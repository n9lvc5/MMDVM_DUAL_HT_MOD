ETSI TS 102 361-2 V2.5.1 (2023-05) 

Electromagnetic compatibility and Radio spectrum Matters (ERM); Digital Mobile Radio (DMR) Systems; Part 2: DMR voice and generic services and facilities 
Reference 
RTS/ERM-TGDMR-380 
Keywords 
air interface, digital, PMR, protocol, radio 
ETSI 
650 Route des Lucioles F-06921 Sophia Antipolis Cedex - FRANCE 
Tel.: +33 4 92 94 42 00   Fax: +33 4 93 65 47 16 
Siret N° 348 623 562 00017 -APE 7112B Association à but non lucratif enregistrée à la Sous-Préfecture de Grasse (06) N° w061004871 
Important notice 
The present document can be downloaded from: 
https://www.etsi.org/standards-search 
The present document may be made available in electronic versions and/or in print. The content of any electronic and/or print versions of the present document shall not be modified without the prior written authorization of ETSI. In case of any existing or perceived difference in contents between such versions and/or in print, the prevailing version of an ETSI deliverable is the one made publicly available in PDF format at www.etsi.org/deliver. 
Users of the present document should be aware that the document may be subject to revision or change of status. Information on the current status of this and other ETSI documents is available at 
https://portal.etsi.org/TB/ETSIDeliverableStatus.aspx 
If you find errors in the present document, please send your comment to one of the following services: 
https://portal.etsi.org/People/CommiteeSupportStaff.aspx 
If you find a security vulnerability in the present document, please report it through our Coordinated Vulnerability Disclosure Program: 
https://www.etsi.org/standards/coordinated-vulnerability-disclosure 
Notice of disclaimer & limitation of liability 
The information provided in the present deliverable is directed solely to professionals who have the appropriate degree of experience to understand and interpret its content in accordance with generally accepted engineering or other professional standard and applicable regulations. No recommendation as to products and services or vendors is made or should be implied. No representation or warranty is made that this deliverable is technically accurate or sufficient or conforms to any law and/or governmental rule and/or regulation and further, no representation or warranty is made of merchantability or fitness for any particular purpose or against infringement of intellectual property rights. In no event shall ETSI be held liable for loss of profits or any other incidental or consequential damages. 
Any software contained in this deliverable is provided "AS IS" with no warranties, express or implied, including but not limited to, the warranties of merchantability, fitness for a particular purpose and non-infringement of intellectual property rights and ETSI shall not be held liable in any event for any damages whatsoever (including, without limitation, damages for loss of profits, business interruption, loss of information, or any other pecuniary loss) arising out of or related to the use of or inability to use the software. 
Copyright Notification 
No part may be reproduced or utilized in any form or by any means, electronic or mechanical, including photocopying and microfilm except as authorized by written permission of ETSI. The content of the PDF version shall not be modified without the written authorization of ETSI. The copyright and the foregoing restriction extend to reproduction in all media. 
© ETSI 2023. All rights reserved. 

Contents 
Intellectual Property Rights................................................................................................................................ 8 
Foreword ............................................................................................................................................................. 8 
Modal verbs terminology .................................................................................................................................... 8 
1 Scope ........................................................................................................................................................ 9 
2 References ................................................................................................................................................ 9 
2.1 Normative references .........................................................................................................................................9 
2.2 Informative references........................................................................................................................................9 
3 Definition of terms, symbols and abbreviations..................................................................................... 10 3.1 Terms................................................................................................................................................................ 10 3.2 Symbols............................................................................................................................................................ 12 
3.3 Abbreviations ...................................................................................................................................................12 
4 Overview ................................................................................................................................................ 14 
4.0 Overview introduction ...................................................................................................................................... 14 
4.1 Protocol architecture......................................................................................................................................... 14 
4.1.0 Protocol architecture - Introduction ............................................................................................................ 14 
4.1.1 Air Interface Physical Layer (layer 1)......................................................................................................... 15 
4.1.2 Air Interface Data Link Layer (layer 2) ...................................................................................................... 16 
4.1.3 Air Interface layer 3 (CCL).........................................................................................................................16 
4.2 Overview of voice and generic services and facilities...................................................................................... 16 
4.3 Feature interoperability ....................................................................................................................................17 
5 DMR services......................................................................................................................................... 18 
5.1 Generic services ...............................................................................................................................................18 
5.1.1 Generic BS services....................................................................................................................................18 
5.1.1.0 Generic BS services - Introduction .......................................................................................................18 
5.1.1.1 BS outbound activation ......................................................................................................................... 20 
5.1.1.1.0 BS outbound activation - Introduction ............................................................................................20 
5.1.1.1.1 BS Outbound Activation SDL ......................................................................................................... 21 
5.1.1.1.2 BS MSCs ......................................................................................................................................... 21 
5.1.1.1.3 BS_Outbound_Activation ...............................................................................................................22 
5.1.1.2 Voice call repeating...............................................................................................................................23 
5.1.1.3 Voice call hangtime...............................................................................................................................24 
5.1.1.4 CSBK repeating ....................................................................................................................................25 
5.1.1.5 BS outbound deactivation .....................................................................................................................26 
5.1.1.6 Channel authorization ...........................................................................................................................26 
5.1.1.6.0 General ............................................................................................................................................26 
5.1.1.6.1 BS Channel Authorization Procedures ............................................................................................ 27 
5.1.1.6.2 MS Channel Authorization Procedures ...........................................................................................28 
5.1.2 Feature Not Supported (FNS) signalling ....................................................................................................28 
5.1.2.0 Feature Not Supported (FNS) signalling - Introduction ........................................................................ 28 
5.1.2.1 FNS Data Bursts/Fields.........................................................................................................................28 
5.1.2.2 MS FNS MSC ....................................................................................................................................... 28 
5.2 Primary voice services......................................................................................................................................29 
5.2.1 Group call service ....................................................................................................................................... 29 
5.2.1.0 Group call service - Introduction ..........................................................................................................29 
5.2.1.1 Service description ................................................................................................................................ 30 
5.2.1.2 Group call data bursts/fields..................................................................................................................30 
5.2.1.2.1 Direct mode ..................................................................................................................................... 30 
5.2.1.2.2 Repeater mode ................................................................................................................................. 30 
5.2.1.3 MS group call control............................................................................................................................31 
5.2.1.3.1 MS group call SDL .......................................................................................................................... 31 
5.2.1.3.2 MS group call HMSC......................................................................................................................32 
5.2.1.3.3 MS group call MSCs .......................................................................................................................33 
5.2.2 Individual call service ................................................................................................................................. 43 
5.2.2.0 Individual call service - Introduction ....................................................................................................43 
5.2.2.1 Service description ................................................................................................................................ 43 
5.2.2.2 Individual call data bursts/fields ...........................................................................................................43 
5.2.2.2.1 Direct mode ..................................................................................................................................... 43 
5.2.2.2.2 Repeater mode ................................................................................................................................. 44 
5.2.2.3 MS Individual call channel access ........................................................................................................44 
5.2.2.3.0 MS individual call channel access - Introduction ............................................................................ 44 
5.2.2.3.1 UU_V_Req channel access SDL ..................................................................................................... 44 
5.2.2.3.2 UU_Ans_Rsp channel access SDL .................................................................................................. 45 
5.2.2.4 MS Individual call control ....................................................................................................................46 
5.2.2.4.0 MS individual call control - Introduction ........................................................................................ 46 
5.2.2.4.1 MS OACSU Individual call source CCL SDL ................................................................................ 46 
5.2.2.4.2 MS OACSU Individual call setup MSCs ........................................................................................47 
5.3 Supplementary voice services ..........................................................................................................................49 
5.3.1 Unaddressed voice call service ................................................................................................................... 49 
5.3.1.0 Unaddressed voice call service - Introduction....................................................................................... 49 
5.3.1.1 Unaddressed voice call data burst/fields ...............................................................................................50 
5.3.1.2 MS Unaddressed voice call control ....................................................................................................... 50 
5.3.2 All call voice service...................................................................................................................................50 
5.3.2.0 All call voice service - Introduction ...................................................................................................... 50 
5.3.2.1 All call data bursts/fields.......................................................................................................................50 
5.3.2.2 MS All call control................................................................................................................................50 
5.3.2.3 BS All call control ................................................................................................................................. 50 
5.3.2.3.1 All call voice repeating .................................................................................................................... 50 
5.3.2.3.2 All call end of transmission ............................................................................................................. 51 
5.3.3 Broadcast call voice service ........................................................................................................................ 52 
5.3.3.0 Broadcast call voice service -Introduction ........................................................................................... 52 
5.3.3.1 Broadcast call data bursts/fields............................................................................................................52 
5.3.3.2 MS Broadcast call control ..................................................................................................................... 52 
5.3.3.3 BS Broadcast call control ...................................................................................................................... 52 
5.3.3.3.1 Broadcast call voice repeating ......................................................................................................... 52 
5.3.3.3.2 Broadcast call end of transmission ..................................................................................................52 
5.3.4 Open voice channel mode service...............................................................................................................52 
5.3.4.0 Open voice channel mode service - Introduction .................................................................................. 52 
5.3.4.1 OVCM service description .................................................................................................................... 53 
5.4 Voice associated inband data services.............................................................................................................. 53 
5.4.1 Voice associated inband data services - Introduction .................................................................................53 
5.4.2 Inband positioning data service ..................................................................................................................54 
5.4.3 Inband talker alias data service ................................................................................................................... 54 
6 DMR facilities........................................................................................................................................ 55 6.1 Transmit timeout ..............................................................................................................................................55 6.2 TDMA direct mode wide area timing...............................................................................................................55 6.2.1 Facility description .....................................................................................................................................55 6.2.1.0 Facility description - Introduction......................................................................................................... 55 6.2.1.1 Leader_and_Timing_Unknown ............................................................................................................55 6.2.1.2 Leader_Unknown.................................................................................................................................. 55 6.2.1.3 Leader_and_Timing_Known ................................................................................................................56 6.2.1.4 Leader ...................................................................................................................................................56 6.2.2 TDMA direct mode data bursts/fields.........................................................................................................56 6.2.2.1 Synchronization ....................................................................................................................................56 6.2.2.2 Colour Code .......................................................................................................................................... 56 6.2.2.3 Channel Timing CSBK .........................................................................................................................56 6.2.2.3.0 Channel Timing CSBK - Introduction ............................................................................................. 56 6.2.2.3.1 CT_CSBK_Beacon.......................................................................................................................... 57 6.2.2.3.2 CT_CSBK_Prop .............................................................................................................................. 57 6.2.2.3.3 CT_CSBK_Term............................................................................................................................. 57 6.2.2.3.4 CT_CSBK_Req ............................................................................................................................... 58 6.2.2.3.5 CT_CSBK_Resp.............................................................................................................................. 58 6.2.3 TDMA direct mode SDL ............................................................................................................................ 58 6.2.3.0 TDMA direct mode SDL - Introduction................................................................................................ 58 6.2.3.1 Power up and channel change SDL ....................................................................................................... 58 6.2.3.2 Leader and timing unknown SDL ......................................................................................................... 59 
6.2.3.3 Leader unknown SDL ...........................................................................................................................60 
6.2.3.4 Leader and timing known SDL ............................................................................................................. 61 
6.2.3.5 Leader SDL ........................................................................................................................................... 62 
6.2.3.6 Leader identifier conflict SDL ..............................................................................................................63 
6.2.3.7 CT_CSBK evaluation SDL ................................................................................................................... 64 
6.2.3.8 Send correction SDL ............................................................................................................................. 66 
6.2.3.9 Accept leader SDL ................................................................................................................................ 68 
6.2.3.10 Appoint new leader SDL ....................................................................................................................... 68 
6.2.3.11 Timing push SDL .................................................................................................................................. 69 
6.2.3.12 Transmit procedure SDL ....................................................................................................................... 70 
6.3 Reverse Channel Transmitter Interrupt ............................................................................................................71 
6.3.0 Facility description - Introduction ..............................................................................................................71 
6.3.1 Repeater Mode............................................................................................................................................ 71 
6.3.2 Direct Mode................................................................................................................................................ 71 
6.3.3 Voice Interrupt ............................................................................................................................................ 72 
6.3.4 Emergency Interrupt ...................................................................................................................................72 
6.3.5 Sending Interrupt Request and Retry Mechanism ......................................................................................72 
7 PDU description ..................................................................................................................................... 72 7.0 PDU description - Introduction ........................................................................................................................72 7.1 Layer 3 PDUs...................................................................................................................................................72 7.1.0 Layer 3 PDUs - Introduction....................................................................................................................... 72 7.1.1 Full Link Control PDUs.............................................................................................................................. 73 7.1.1.1 Group Voice Channel User LC PDU ....................................................................................................73 7.1.1.2 Unit to Unit Voice Channel User LC PDU ........................................................................................... 73 7.1.1.3 GPS Info LC PDU ................................................................................................................................. 73 7.1.1.4 Talker Alias header LC PDU ................................................................................................................74 7.1.1.5 Talker Alias block LC PDU .................................................................................................................. 74 7.1.2 Control Signalling BlocK (CSBK) PDUs................................................................................................... 75 7.1.2.1 BS Outbound Activation CSBK PDU ................................................................................................... 75 7.1.2.2 Unit to Unit Voice Service Request CSBK PDU .................................................................................. 75 7.1.2.3 Unit to Unit Voice Service Answer Response CSBK PDU .................................................................. 75 7.1.2.4 Negative Acknowledge Response CSBK PDU ..................................................................................... 76 7.1.2.5 Preamble CSBK PDU ...........................................................................................................................76 7.1.2.6 Channel Timing CSBK PDU ................................................................................................................77 7.1.3 Short Link Control PDUs ...........................................................................................................................78 7.1.3.1 Null Message......................................................................................................................................... 78 7.1.3.2 Activity Update..................................................................................................................................... 78 7.2 Layer 3 information element coding ................................................................................................................79 7.2.0 Layer 3 information element coding - Introduction .................................................................................... 79 7.2.1 Service Options........................................................................................................................................... 80 7.2.2 Answer Response ........................................................................................................................................ 80 7.2.3 Reason Code ............................................................................................................................................... 80 7.2.4 Service Type ............................................................................................................................................... 80 7.2.5 Source Type ................................................................................................................................................ 81 7.2.7 CSBK Blocks to Follow (CBF) ..................................................................................................................81 7.2.8 Identifier (ID) .............................................................................................................................................. 81 7.2.6 Additional Information Field ...................................................................................................................... 81 7.2.9 Dynamic Identifier (DI) .............................................................................................................................. 81 7.2.10 Wide Area Timing IDentifier (WATID).....................................................................................................82 7.2.11 Channel Timing Opcode (CTO) .................................................................................................................82 7.2.12 New Leader (NL)........................................................................................................................................ 82 7.2.13 Generation (Gen) ........................................................................................................................................83 
7.2.14 Sync Age (SA)............................................................................................................................................83 
7.2.15 Position Error.............................................................................................................................................. 83 7.2.16 Longitude.................................................................................................................................................... 83 7.2.17 Latitude....................................................................................................................................................... 84 
7.2.18 Talker Alias Data Format ...........................................................................................................................84 
7.2.19 Talker Alias Data Length ............................................................................................................................ 84 
7.2.20 Tier 2 Reverse Channel (RC) Command .................................................................................................... 84 
Annex A (normative): Timers and constants in DMR ...................................................................... 85 
A.0 Timers and constants in DMR -Introduction......................................................................................... 85 
A.1 Layer 3 timers ......................................................................................................................................... 85 
A.2 Layer 3 constants.................................................................................................................................... 86 
Annex B (normative): Opcode Reference Lists................................................................................. 87 
B.1 Full Link Control Opcode List ............................................................................................................... 87 
B.2 CSBK Opcode List................................................................................................................................. 87 
B.3 Short Link Control Opcode List............................................................................................................. 87 
Annex C (informative): Numbering and dialling plan........................................................................ 88 
C.1 Introduction to the numbering and dialling plan .................................................................................... 88 
C.2 Subscriber mapping................................................................................................................................ 89 
C.2.1 User Interface - Air Interface ...........................................................................................................................89 
C.2.1.0 User Interface -Air Interface - Introduction ............................................................................................... 89 
C.2.1.1 Mapping for MS individual address space .................................................................................................. 90 
C.2.1.1.0 Mapping for MS individual address space - Introduction ..................................................................... 90 
C.2.1.1.1 Mapping for diallable addresses (prefix 0 to 9)..................................................................................... 91 
C.2.1.1.2 Mapping for non-diallable individual addresses (prefix 10 to 14) ........................................................ 91 
C.2.1.1.3 Examples of individual address mapping .............................................................................................. 92 
C.2.1.2 Mapping for MS talkgroup address space ................................................................................................... 92 
C.2.1.2.0 Mapping for MS talkgroup address space - Introduction ...................................................................... 92 
C.2.1.2.1 The concept of the wildcard character ..................................................................................................92 
C.2.1.2.2 The concept of stored parameters.......................................................................................................... 93 
C.2.1.2.3 The concept of ad-hoc arrangement ...................................................................................................... 93 
C.2.1.2.4 The rules for the sender ......................................................................................................................... 93 
C.2.1.2.5 The rules for the recipient .....................................................................................................................93 
C.2.1.2.6 Mapping of dialled strings to the AI talkgroup address space ..............................................................94 
C.2.1.2.6.0 Mapping of dialled strings to the AI talkgroup address space - Introduction .................................. 94 
C.2.1.2.6.1 Mapping of numeric dialled strings to the AI talkgroup address space........................................... 94 
C.2.1.2.6.2 Mapping for non-diallable talkgroup addresses (prefix 10 to14) .................................................... 96 
C.2.1.2.6.3 Examples of talkgroup non-diallable address mapping................................................................... 96 
C.2.1.2.7 The concept of the prefix ......................................................................................................................96 
C.2.2 Addresses .........................................................................................................................................................98 
C.2.3 Conversion rules...............................................................................................................................................98 
C.2.3.1 MS addresses ..............................................................................................................................................98 
C.2.3.2 Limiting the length of the destination address ............................................................................................ 98 
C.2.3.3 All talkgroup address..................................................................................................................................98 
C.2.3.4 Gateways ....................................................................................................................................................99 
C.3 User dialling plan ................................................................................................................................... 99 
C.3.1 User numbering ................................................................................................................................................ 99 
C.3.1.0 User numbering - Introduction.................................................................................................................... 99 
C.3.1.1 Dialling method ..........................................................................................................................................99 
C.3.1.2 Call Type determination .............................................................................................................................99 
C.3.1.3 Call modifier strings ...................................................................................................................................99 
C.3.2 Dialled digits to address mapping ..................................................................................................................100 
C.3.3 Storage requirements......................................................................................................................................100 
C.3.3.1 MS individual address ..............................................................................................................................100 
C.3.3.2 Talkgroups ................................................................................................................................................ 100 
C.3.3.3 All MSs..................................................................................................................................................... 100 
C.3.3.4 Non-diallable numbers..............................................................................................................................100 
C.3.3.5 Talkgroup recognition............................................................................................................................... 101 
C.3.3.5.1 All numeric talkgroups........................................................................................................................ 101 
C.3.3.5.2 Talkgroups defined by wildcards ........................................................................................................ 101 
C.3.3.5.3 MS receives a talkgroup call ............................................................................................................... 101 
C.3.4 Dialling procedures ........................................................................................................................................102 
C.3.4.1 MS calls .................................................................................................................................................... 102 
C.3.4.1.1 Seven digit dialling .............................................................................................................................102 
C.3.4.1.2 Abbreviated dialling............................................................................................................................ 102 
C.3.4.1.3 Individual call .....................................................................................................................................103 
C.3.4.1.4 Talkgroup Call ....................................................................................................................................103 
C.3.4.1.5 All Call................................................................................................................................................ 103 
C.3.4.2 Gateway calls............................................................................................................................................ 103 
C.3.4.2.1 Telephone call ..................................................................................................................................... 103 
C.3.4.2.1.0 Telephone call - introduction ......................................................................................................... 103 
C.3.4.2.1.1 Telephone numeric padding format............................................................................................... 103 
C.3.4.2.1.2 Telephone star modifier format ..................................................................................................... 104 
C.3.4.2.2 PABX call ...........................................................................................................................................104 
C.3.4.2.2.0 PABX call - Introduction ............................................................................................................... 104 
C.3.4.2.2.1 PABX numeric padding format ..................................................................................................... 104 
C.3.4.2.2.2 PABX star modifier format ...........................................................................................................104 
C.3.4.2.3 IP call .................................................................................................................................................. 104 
C.3.4.3 Call modifiers ...........................................................................................................................................105 
C.3.4.3.0 Call modifiers -Introduction ............................................................................................................... 105 
C.3.4.3.1 Broadcast call...................................................................................................................................... 105 
C.3.4.3.2 Priority call.......................................................................................................................................... 105 
C.3.4.3.3 Emergency call.................................................................................................................................... 105 
C.3.4.3.4 Status call ............................................................................................................................................ 105 
C.3.4.3.5 Divert own call.................................................................................................................................... 106 
C.3.4.3.6 Open voice channel mode call ............................................................................................................106 
C.3.4.3.7 Force talkgroup service ....................................................................................................................... 106 
C.3.4.3.8 Multiple call modifiers........................................................................................................................106 
C.3.4.4 MS behaviour commands .........................................................................................................................106 
C.3.4.4.0 MS behaviour commands - Introduction............................................................................................. 106 
C.3.4.4.1 Edit the talkgroup table ....................................................................................................................... 107 
C.3.4.4.2 Queue Incoming call ...........................................................................................................................107 
C.3.4.4.3 Display own identity ...........................................................................................................................107 
C.3.4.4.4 Display Own talkgroup table............................................................................................................... 107 
C.3.4.5 Call set-up abandon or call complete........................................................................................................ 107 
Annex D (informative): Change requests ........................................................................................... 108 
Annex E (informative): Bibliography................................................................................................. 109 
History ............................................................................................................................................................ 110 

Intellectual Property Rights 
Essential patents 
IPRs essential or potentially essential to normative deliverables may have been declared to ETSI. The declarations pertaining to these essential IPRs, if any, are publicly available for ETSI members and non-members, and can be found in ETSI SR 000 314: "Intellectual Property Rights (IPRs); Essential, or potentially Essential, IPRs notified to ETSI in respect of ETSI standards", which is available from the ETSI Secretariat. Latest updates are available on the ETSI Web server (https://ipr.etsi.org/). 
Pursuant to the ETSI Directives including the ETSI IPR Policy, no investigation regarding the essentiality of IPRs, including IPR searches, has been carried out by ETSI. No guarantee can be given as to the existence of other IPRs not referenced in ETSI SR 000 314 (or the updates on the ETSI Web server) which are, or may be, or may become, essential to the present document. 
Trademarks 
The present document may include trademarks and/or tradenames which are asserted and/or registered by their owners. ETSI claims no ownership of these except for any which are indicated as being the property of ETSI, and conveys no right to use or reproduce any trademark and/or tradename. Mention of those trademarks in the present document does not constitute an endorsement by ETSI of products, services or organizations associated with those trademarks. 
DECT, PLUGTESTS, UMTS and the ETSI logo are trademarks of ETSI registered for the benefit of its Members. 3GPP and LTE are trademarks of ETSI registered for the benefit of its Members and of the 3GPP Organizational Partners. oneM2M logo is a trademark of ETSI registered for the benefit of its Members and of the oneM2M Partners. GSM® and the GSM logo are trademarks registered and owned by the GSM Association. 

Foreword 
This Technical Specification (TS) has been produced by ETSI Technical Committee Electromagnetic compatibility and Radio spectrum Matters (ERM). 
The present document is part 2 of a multi-part deliverable covering the Technical Requirements for Digital Mobile Radio (DMR), as identified below: 
Part 1:  "DMR Air Interface (AI) protocol";  
Part 2:  "DMR voice and generic services and facilities";  
Part 3:  "DMR data protocol";  
Part 4:  "DMR trunking protocol".  


Modal verbs terminology 
In the present document "shall", "shall not", "should", "should not", "may", "need not", "will", "will not", "can" and "cannot" are to be interpreted as described in clause 3.2 of the ETSI Drafting Rules (Verbal forms for the expression of provisions). 
"must" and "must not" are NOT allowed in ETSI deliverables except when used in direct citation. 

Scope 
The present document contains technical requirements for Digital Mobile Radio (DMR) operating in the existing licensed land mobile service frequency bands, as identified in CEPT/ERC/T/R 25-08 [i.1]. 
The present document describes the voice and generic services and facilities of a scalable Digital Mobile Radio system which covers three tiers of possible products: 
Tier I:  DMR equipment having an integral antenna and working in direct mode (communication without infrastructure) under a general authorization with no individual rights operation.  
Tier II:  DMR systems operating under individual licences working in direct mode (unit-to-unit) or using a Base Station (BS) for repeating.  
Tier III:  DMR trunking systems under individual licences operating with a controller function that automatically regulates the communications.  

NOTE 1: Tier II and Tier III products encompass both simulcast and non-simulcast systems. 
NOTE 2: The three tiers of possible products only work independently and there is no interoperability across the tiers. 
The present document specifies the voice and generic services and facilities of DMR that has been specifically developed with the intention of being suitable for all identified product tiers. The DMR protocol is intended to be applicable to the land mobile frequency bands, physical channel offset, duplex spacing, range assumptions and all other spectrum parameters without need for any change. 
2 References 
2.1 Normative references 
References are either specific (identified by date of publication and/or edition number or version number) or non-specific. For specific references, only the cited version applies. For non-specific references, the latest version of the referenced document (including any amendments) applies. 
Referenced documents which are not found to be publicly available in the expected location might be found at https://docbox.etsi.org/Reference. 
NOTE: While any hyperlinks included in this clause were valid at the time of publication, ETSI cannot guarantee their long term validity. 
The following referenced documents are necessary for the application of the present document. 
[1] ETSI TS 102 361-1: "Electromagnetic compatibility and Radio spectrum Matters (ERM); Digital Mobile Radio (DMR) Systems; Part 1: DMR Air Interface (AI) protocol". 
[2] ETSI TS 102 361-3: "Electromagnetic compatibility and Radio spectrum Matters (ERM); Digital Mobile Radio (DMR) Systems; Part 3: DMR data protocol". 

2.2 Informative references 
References are either specific (identified by date of publication and/or edition number or version number) or non-specific. For specific references, only the cited version applies. For non-specific references, the latest version of the referenced document (including any amendments) applies. 
NOTE: While any hyperlinks included in this clause were valid at the time of publication, ETSI cannot guarantee their long term validity. 
The following referenced documents are not necessary for the application of the present document but they assist the user with regard to a particular subject area. 
[i.1] CEPT/ERC/T/R 25-08: "Planning criteria and coordination of frequencies for land mobile systems in the range 29.7-470 MHz". 
[i.2] ISO/IEC 8859: "Information processing - 8-bit single-byte coded graphic character sets". 


3 Definition of terms, symbols and abbreviations 
3.1 Terms 
For the purposes of the present document, the following terms apply: 1:1-mode: 1 traffic channel mode NOTE: 1:1-mode supports one "MS to fixed end" duplex call or one simplex call with an optional inbound Reverse Channel using a two frequency BS. 2:1-mode: 2 traffic channel mode NOTE: 2:1-mode supports two independent calls which may be either "MS to fixed end" duplex calls, simplex 
calls using a two frequency BS or simplex calls between MS units on a single frequency. Base Station (BS): fixed end equipment that is used to obtain DMR services bearer service: telecommunication service providing the capability for information transfer between access points burst: elementary amount of bits within the physical channel 
NOTE 1: Three different bursts exist with different number of bits. The Traffic burst contains 264 bits, the CACH burst contains 24 bits and the RC burst contains 96 bits. NOTE 2: The burst may include a guard time at the beginning and end of the burst used for power ramp-up and ramp-down. NOTE 3: For detailed burst definition see ETSI TS 102 361-1 [1], clause 4.2.1. call: complete sequence of related transactions between MSs NOTE: Transactions may be one or more bursts containing specific call related information. 
channel slot timing: time slot 1 and time slot 2 timing boundaries established by a TDMA direct mode leader code unit: number of bits in a particular character encoding format, where some character sets may require multiple code units to realize all characters within that character set 
NOTE 1: One code unit is 7 bits for a 7 bit ASCII coded character format. NOTE 2: One code unit is 8 bits for an UTF-8 bit coded character format. NOTE 3: One code unit is 16 bits for a UTF-16 bit coded character format. NOTE 4: Each combined character encoding, comprising one or more code units within the character set, is 
referred to as a code point. For example UTF-16 has a code unit of 16 bits, but may include code points (characters) of up to two code units (32 bits). 
Control plane (C-plane): part of the DMR protocol stack dedicated to control and data services Digital Mobile Radio (DMR): physical grouping that contains all of the mobile and/or fixed end equipment that is used to obtain DMR services 
direct mode: mode of operation where MSs may communicate outside the control of a network NOTE 1: This is communication technique where any radio unit (MS) may communicate with one or more other radio units (MSs) without the need for any additional equipment (e.g. BS). NOTE 2: Supports one transmission per 12,5 kHz frequency; 12,5 kHz equivalent (12,5e) spectral efficiency. duplex: mode of operation by which information can be transferred in both directions and where the two directions are independent NOTE: Duplex is also known as full duplex. frame: two contiguous time slots labelled 1 and 2 
NOTE: A frame has a length of 60 ms. inbound: MS to BS transmission logical channel: distinct data path between logical endpoints 
NOTE: The logical channels are labelled 1 and 2. The logical channel may consist of sub-channels, e.g. SYNC, 
embedded signalling, etc. Mobile Station (MS): physical grouping that contains all of the mobile equipment that is used to obtain DMR mobile services 
octet: 8 bits grouped together, also called a byte outbound: BS to MS transmission payload: bits in the information field personalization: address and configuration information that characterizes a particular DMR MS 
NOTE: This information may be programmed by the installer before putting an MS into service. physical channel: RF carrier that is modulated with information bits of the bursts NOTE: The RF carrier may be a single frequency or a duplex pair of frequencies. The physical channel of a DMR subsystem is required to support the logical channels. polite protocol: "Listen Before Transmit" (LBT) protocol NOTE: This is a medium access protocol that implements a LBT function in order to ensure that the channel is 
free before transmitting. prefix: most significant digit of a MS address in the user domain privacy: secret transformation 
NOTE: Any transformation of transmitted information that is derived from a shared secret between the sender and 
receiver. Protocol Data Unit (PDU): unit of information consisting of protocol control information (signalling) and possibly user data exchanged between peer protocol layer entities 
Radio Frequency channel: Radio Frequency carrier (RF carrier) NOTE: This is a specified portion of the RF spectrum. In DMR, the RF carrier separation is 12,5 kHz. The physical channel may be a single frequency or a duplex spaced pair of frequencies. repeater mode: mode of operation where MSs may communicate through a BS NOTE: This is a communication technique where any radio unit (MS) may communicate with one or more other radio units (MSs) with the need for an intermediate BS. signalling: exchange of information specifically concerned with the establishment and control of connections, and with management, in a telecommunication network 
simplex: mode of working by which information can be transferred in both directions but not at the same time 
superframe: 6 continues traffic bursts on a logical channel labelled "A" to "F" 
NOTE: A superframe has a length of 360 ms and is used for voice traffic only. 
TDMA direct mode: direct mode operation that supports two transmissions per 12,5 kHz frequency 
NOTE: Supports 6,25 kHz equivalent (6,25e) spectral efficiency. 
time slot (or slot): elementary timing of the physical channel 
NOTE: A timeslot has a length of 30 ms and will be numbered "1" or "2". 
transmission: transfer period of bursts containing information or signalling 
NOTE: The transmission may be continuous, i.e. multiple bursts transmission without ramp-up, ramp-down, or discontinuous, i.e. single burst transmission with ramp-up and ramp-down period. 
trunking: network controlled communication 
NOTE: This is a communication technique where any radio unit (MS) may communicate with one or more other radio units (MSs) using a trunking protocol and all MSs will be under control of a network. 
user numbering: decimal representation of DMR air interface addresses 
NOTE: The user numbering is that visible to a user or seen by the user. 
User plane (U-plane): part of the DMR protocol stack dedicated to user voice services 
wildcard: character in the user domain that represents all digits 0 to 9 

3.2 Symbols 
Void. 

3.3 Abbreviations 
For the purposes of the present document, the following abbreviations apply: 
ACK (positive) ACKnowledgement AI Air Interface AL Accept Leader ANL Announce New Leader ASCII American Standard Code for Information Interchange AT Access Type BOC Beginning Of Call BOR Beginning Of Repeat BOT Beginning Of Transmission BS Base Station CACH Common Announcement Channel CBF CSBK Blocks to Follow CC Colour Code CCE CT_CSBK Evaluation CCITT Consultative Committee on International Telegraphy and Telephony CCL Call Control Layer CCL_1 Call Control Layer: Slot 1 process CCL_2 Call Control Layer: Slot 2 process CCL_BS Call Control Layer: Both Slot process C-plane Control-plane CRC Cyclic Redundancy Checksum for data error detection CSBK Control Signalling BlocK CSBKO CSBK Opcode 
CT  Channel Timing  
CT_CSBK  Channel Timing CSBK  
CTO  Channel Timing Opcode  
DI  Dynamic Identifier  
DLL  Data Link Layer  
DMR  Digital Mobile Radio  
EOC  End Of Call  
EOR  End Of Repeat  
EOT  End Of Transmission  
FEC  Forward Error Correction  
FID  Feature set ID  
FLCO  Full Link Control Opcode  
FNS  Feature Not Supported  
Gen  Generation  
GPS  Global Positioning System  
Grp_V_Ch_Usr  Group Voice Channel User  
HMSC  High level Message Sequence Chart  
ID  Identifier  
IO  Input Output  
IP  Internet Protocol  
LB  Last Block  
LBT  Listen Before Transmit  
LC  Link Control  
LDI  Leader Dynamic Identifier  
LDR  LeaDeR CT_CSBK evaluation  
LID  Leader Identifier  
LIP  Location Information Protocol  
LLC  Logical Link Control  
LSB  Least Significant Bit  
LWATID  Leader Wide Area Timing IDentifier  
MAC  Medium Access Control  
MFID  Manufacturer's FID  
MMI  Man Machine Interface  
MS  Mobile Station (either portable or mobile unit)  
MSB  Most Significant Bit  
MSC  Message Sequence Chart  
MS_DI  Mobile Station Dynamic Identifier  
N_xxxx  Layer 3 constant  

NOTE: As defined in clause A.2. 
NA Not Applicable NL New Leader OACSU Off Air Call SetUp OVCM Open Voice Channel Mode service PABX Private Automatic Branch eXchange PATCS Press And Talk Call Setup PDU Protocol Data Unit PF Protect Flag PL Physical Layer PSTN Public Switched Telephone Network PTT Push-To-Talk RC Reason Code RC Reverse Channel RF Radio Frequency RX Receive SA Sync Age SC Send Correction SDI Source Dynamic Identifier SDL Specification and Description Language SFID Standards FID SID Source Identifier 
SLCO  Short Link Control Opcode  
SMS  Short Message Service  
SWATID  Source Wide Area Timing IDentifier  
SYNC  Synchronization  
T_xxxx  Layer 3 Timer  

NOTE: As defined in clause A.1. 
TD_LC Terminator Data Link Control TDMA Time Division Multiple Access TO Time Out TP Timing Push TS Technical Specification TX Transmit U-plane User-plane UTF Unicode Transformation format 


4 Overview 
4.0 Overview introduction 
The present document describes a Digital Mobile Radio (DMR) system for Tier II and Tier III products which employ a Time Division Multiple Access (TDMA) technology with a 2-slot TDMA solution and RF carrier bandwidth of 12,5 kHz (see note 1). 
NOTE 1: DMR system for Tier I products employ a continuous transmission variation of the previously mentioned technology. 
The present document describes the Call Control Layer (CCL) of the DMR Air Interface (AI). Radio equipments (fixed, mobile or portable) which conform to the present document shall be interoperable at the Air Interface with equipment from other manufacturers. Radio equipment of the present document shall also comply with ETSI TS 102 361-1 [1]. 
The present document will not provide the specification or operational detail for system implementations which include but are not limited to trunking, roaming, network management, vocoder, security, data, subsystems interfaces and data between private and public switched telephone networks. It describes only the appropriate access requirements compatible with the Air Interface. 
NOTE 2: The DMR standard consists of a multi-part deliverable, which will be referred to in the present document if needed. 

4.1 Protocol architecture 
4.1.0 Protocol architecture -Introduction 
The purpose of this clause is to provide a model where the different functions and processes are identified and allocated to different layers in the DMR protocol stack. 
The protocol stack in this clause and all other related clauses describe and specify the interfaces, but these stacks do not imply or restrict any implementation. 
The DMR protocol architecture which is defined herein follows the generic layered structure, which is accepted for reference description and specification of layered communication architectures. 
The DMR standard defines the protocols for the following 3 layered model as shown in figure 4.1. 
The base of the protocol stack is the Physical Layer (PL) which is the layer 1. 
The Data Link Layer (DLL), which is the layer 2, shall handle sharing of the medium by a number of users. At the DLL, the protocol stack shall be divided vertically into two parts, the User plane (U-plane), for transporting information without addressing capability (e.g. voice), and the Control plane (C-plane) for signalling information, both control and data, with addressing capability, as illustrated by figure 4.1. 
NOTE 1: It is appropriate to bear in mind the different requirements of C-plane and U-plane information. C-plane information needs only a discrete (or non-continuous) physical link to pass information although it needs a continuous virtual link to support the service. This may also be called signalling or packet mode service. Acknowledgements may or may not be requested. U-plane information, on the other hand, requires a regular physical link to be available so that a constant delay service can be supported. This may also be called circuit mode service. 
NOTE 2: The DLL identified in figure 4.1 may be further sub-divided in the air interface protocol to separate the functionality of Medium Access Control (MAC) and Logical Link Control (LLC), which is often performed in radio air interface protocols due to the specialized nature of these two tasks. Such separation is not presented in the present document and is implementation specific. It is further implementation specific if layer 2 at U-plane offers only MAC for the service. 
The Call Control Layer (CCL), which is layer 3, lies in the C-plane and is responsible for control of the call (addressing, features, etc.), provides the services supported by DMR, and supports Short Data and Packet Data service. U-plane access at layer 2 (DLL) supports voice service which is available in DMR. The Control Layer and the features and services offered by DMR are described in the present document. The Short Data and Packet Data Protocol offered by DMR are described in ETSI TS 102 361-3 [2]. 
Physical Layer 


4.1.1 Air Interface Physical Layer (layer 1) 
The Air Interface layer 1 shall be the physical interface. It shall deal with the physical burst, composed of bits, which is to be sent and/or received. The Physical Layer is described in ETSI TS 102 361-1 [1]. 
The Air Interface layer 1 contains the following functions: 
 
modulation and demodulation; 

 
transmitter and receiver switching; 

 
RF characteristics; 

 
bits and symbol definition; 

 
frequency and symbol synchronization; 

 
burst building. 



4.1.2 Air Interface Data Link Layer (layer 2) 
The Air Interface layer 2 shall handle logical connections and shall hide the physical medium from the upper layers. The Data Link Layer is described in ETSI TS 102 361-1 [1]. 
The main functions are as follows: 
 
channel coding (FEC, CRC); 

 
interleaving, de-interleaving and bit ordering; 

 
acknowledgement and retry mechanism; 

 
media access control and channel management; 

 
framing, superframe building and synchronization; 

 
burst and parameter definition; 

 
link addressing (source and/or destination); 

 
interfacing of voice applications (vocoder data) with the PL; 

 
data bearer services; 

 
exchanging signalling and/or user data with the CCL. 



4.1.3 Air Interface layer 3 (CCL) 
Air Interface layer 3 (CCL) is applicable only to the C-plane, and shall be an entity for the services and features supported by DMR on top of the layer 2 functionality. The Call Control Layer is described in the present document and may have embedded intrinsic services associated to it. 
The CCL provides the following functions: 
 
BS activation; 

 
establishing, maintaining and terminating of calls; 

 
individual or group call transmission and reception; 

 
destination addressing (DMR IDs or gateway as appropriate); 

 
support of intrinsic services (emergency signalling, pre-emption, late entry, etc.); 

 
announcement signalling. 


4.2 Overview of voice and generic services and facilities 
The facilities described for DMR are related to user initiated call procedures, e.g. group speech call, individual speech call, data call, etc. The services defined for DMR contains intrinsic (embedded) signalling or procedures which may relate to one or more user initiated call procedures. 
Some services are visible to users others are not and will be processed by the MS itself. All user related signalling or presentation above layer 3 is not part of the present document and is implementation specific. 
The services and facilities defined in the present document may be used for Tier I and Tier II products and is called the "default feature set" which is allocated to the "Standards Feature ID (SFID)". There is a possibility in the DMR standard which allows manufacturers to define and implement "private" feature sets which contain additional "private" services and facilities, which may possibly not be understood by products not supporting this "private" feature set. 
The "standard feature set" contains the following services and facilities: 
a) Generic services: -generic BS services: 
. 
BS outbound activation; 
. 
voice call repeating; 
. 
voice call hangtime; 
. 
CSBK repeating; 
. 
BS outbound deactivation; -feature not supported signalling. All MSs shall implement the "feature not supported signalling". All other services and facilities are optional. 
b)
 Primary voice services: -group call service; -individual call service. 

c) 
Voice-associated inband data services: -inband positioning data service; -inband talker alias data service. 

d)
 Supplementary voice services: -unaddressed voice call service; -all call service; -broadcast voice call service; -open voice channel call service. 

e)
 DMR facilities: 


-transmit timeout; 
-TDMA direct mode wide area timing. 
The description of the services and features uses SDL diagrams where necessary to illustrate and highlight specific points in both direct mode and repeater mode. Other aspects of the DMR radio system required are the High Level MS SDL, the High Level BS SDL, HMSC and MSC diagrams. For the High Level SDL diagrams and state description refer to ETSI TS 102 361-1 [1], annex G. The HMSC and MSC diagrams are described in the present document. 
4.3 Feature interoperability 
The FID identifies one of several different feature sets. The FLCO identifies the "over-air" feature within the given feature set. To ensure interoperability at the air interface, features that are standardized in the present document and available in the 
equipment shall be accessible only via the combination of default SFID and corresponding FLCO. Features that are not standardized in the present document are only available via an alternative MFID. 
5  DMR services  
5.1  Generic services  
5.1.1  Generic BS services  
5.1.1.0  Generic BS services - Introduction  
Figure 5.1 illustrates the HMSC for both BS slots. For descriptions of various states in this diagram refer to clause G.2 of ETSI TS 102 361-1 [1]. 


The Mobile Station Inactivity Timer T_MSInactive is defined in clause F.1 of ETSI TS 102 361-1 [1]. Also, in the following diagrams the slot number refers to the outbound slot. Therefore, outbound slot 1 implies inbound slot 1 for offset mode and inbound slot 2 for aligned mode, as defined in clause 5.1 of ETSI TS 102 361-1 [1]. 

Figure 5.2 illustrates the HMSC for a single BS slot. For descriptions of various states in this diagram refer to clause G.2 of ETSI TS 102 361-1 [1]. 
NOTE: This HMSC is valid only when the BS is not in the BS_Hibernating state. The single slot processes are started when the BS transitions out of the BS_Hibernating state and stopped when the BS transitions to the BS_Hibernating state. 
Upon reception of a CSBK, the CACH AT bit may be left as idle as there are no more inbound bursts to follow. 

5.1.1.1 BS outbound activation 
5.1.1.1.0 BS outbound activation - Introduction 
This clause describes the BS activation and deactivation facility. 
If "Repeater Mode BS established timing" is used, there is one MS sourced data burst required for channel access in repeater mode. This is a BS_Dwn_Act PDU which is used to wakeup or activates the BS outbound. Details are listed in table 5.1. Contents of the BS_Dwn_Act PDU are found in clause 7.1.3. Details of when it is transmitted are found in clauses 4.4.1 and 5.2 of ETSI TS 102 361-1 [1]. 
Table 5.1: Channel access data burst 
Data Type  Value  Function  Data Contents  CSBKO  
CSBK  00112  Activate BS Outbound  BS_Dwn_Act  1110002  

If "Repeater Mode MS established timing" is used, the BS may activate its outbound channel directly at the Physical Layer PL at the reception of a MS_Sourced_Sync. In this case the BS acts in such way that the MS inbound channel is frame synchronized to the outbound one. Details are found in clauses 4.4.3 and 5.2 of ETSI TS 102 361-1 [1]. 
5.1.1.1.1 BS Outbound Activation SDL 
Figure 5.3 illustrates the BS decision process when its receiver synchronizes to an MS sourced sync pattern while in the BS_Hibernating state. This figure is informative with respect to the order of qualification. 
If either the Colour Code does not match or the slot type is not CSBK the BS shall stay in the BS_Hibernating state. If both the Colour Code matches and the slot type is CSBK the BS shall start Mobile Station Inactivity timer T_MSInactive, which is defined in clause F.1 of ETSI TS 102 361-1 [1], and shall transition to the Hangtime state. 
Figure 5.3 illustrates the minimum requirement for BS activation. Additionally, manufacturers may also validate any and or all of the following: 
 
CSBKO; 

 
SFID; 

 
Destination (BS) Address and Source Address. 



5.1.1.1.2 BS MSCs 
The following MSCs attempt to show a decomposition of the BS functional layers as defined in clause 4.1 of ETSI TS 102 361-1 [1]. 
NOTE: A CCL_BS process is used to describe the state of both slots while CCL_1 and CCL_2 processes are used to describe the state of slot 1 and slot 2 respectively. This is used for clarification purposes and is purely informative. 
5.1.1.1.3 BS_Outbound_Activation 
Figure 5.4 illustrates BS actions when it receives a valid wakeup PDU while the CCL_BS is in the BR_Hibernating state. 
The CCL_BS starts both the CCL_1 and CCL_2 processes, shall start T_MSInactive and transition to the Hangtime state. CCL_1 and CCL_2 send Generate_Idles primitive to the DLL and both transition to the Channel_Hangtime state. The DLL starts the outbound and the BS shall transmit Idle PDUs with a Data Type of "Idle" in both slots. Also the CACH AT bit for both slots shall be set to "Idle". 

5.1.1.2 Voice call repeating 
The DLL sends a BOR primitive to the CCL_1 process and stops generating idle messages. CCL_1 transitions to the Repeating_Slot state. The DLL also sends a BOR_Slot_1 primitive to the CCL_BS process. If slot 2 is in Channel_Hangtime or Call_Hangtime states, it transitions to Repeating_Slot_1 state. If slot 2 is in Repeating_Slot state, then CCL_BS transitions to Repeating_Both_Slots state. The DLL shall repeat the Voice_LC_Header and then shall repeat slot 1 voice bursts continuously in this state. While the BS is repeating it should set the CACH AT bit to "busy". The DLL also sends LC information to the CCL_1, which is used for the generation of call hangtime PDUs. 

Figure 5.5: BS BOR_Slot_1 
5.1.1.3 Voice call hangtime 
The DLL sends an EOR primitive to the CCL_1 process which starts Call Hangtime Timer (T_CallHt) and transitions to the Call_Hangtime state. The DLL also sends an EOR_Slot_1 primitive to the CCL_BS process. If slot 2 is in Channel_Hangtime or Call_Hangtime states, it transitions to Hangtime state. If slot 2 is in Repeating_Slot state, then CCL_BS transitions to Repeating_Slot_2 state. The CCL_1 sends Generate_Terminators primitive to the DLL for call hangtime messages. The BS shall transmit call hangtime PDUs in this state and set the CACH AT bit to "busy". When the T_CallHt expires, the CCL_1 transitions to the Channel_Hangtime state and send Generate_Idles primitive to the DLL. The BS shall transmit Idle message PDUs as defined in clause D.2 of ETSI TS 102 361-1 [1] with a Data Type of "Idle" and the CACH AT bit set to "idle" in this state. 

Figure 5.6: BS EOR_Slot_1 
5.1.1.4 CSBK repeating 
The BS CCL_1 sends a TX_CSBK_Slot_1 primitive to the DLL to repeat the CSBK and stays in the Channel_Hangtime state. The BS shall repeat the received CSBK. 

Figure 5.7: CSBK Repeating 
5.1.1.5 BS outbound deactivation 
The CCL_BS sends Kill_Slot Process primitive to CCL_1 and CCL_2 and transitions to the BS_Hibernating state. Here the BS shall cease transmitting, which deactivates the outbound. 

Figure 5.8: BS_Outbound_Deactivation 
5.1.1.6 Channel authorization 
5.1.1.6.0 General 
Channel Authorization requires the BS to select one MS unit from one or more MS units attempting to transmit during hangtime, where hangtime can be either channel hangtime or call hangtime. It applies to Polite channel access during channel hangtime for voice, data and CSBK call types and applies to In Call access during call hangtime for voice. It does not apply to Impolite channel access. Therefore the channel authorization process is applicable to both channel hangtime and call hangtime for a voice call. It is only applicable to channel hangtime for a data or CSBK transmission. 
During Hangtime a MS initiates a transmission by sending a single burst on the payload channel. This is titled the ChanAuth PDU and is dependent upon the call type: 
 
Voice: ChanAuth PDU = Voice header. 

 
Data: ChanAuth PDU = CSBK Preamble. 

 
CSBK: ChanAuth PDU = CSBK Preamble. 


NOTE: If sending a CSBK without preceding CSBK Preambles, it is not necessary to utilize the channel authorization procedure as the CSBK retry process takes care of collisions. Layer 2 data acknowledgements (ACK, NACK, etc.) during data hangtime for confirmed data do not use the channel authorization process either. 
After transmitting the ChanAuth PDU the requesting MS transitions to receive mode. Upon reception of the ChanAuth PDU the BS sets CACH AT information element to BUSY and continues to transmit Hangtime (Call or Channel) PDUs. The system authorizes (selects) one MS from one or more received MS Unit ChanAuth PDUs and transmits on the payload channel the ChanAuth PDU received from the authorized MS. At this point the system is waiting to receive the transmission from the authorized MS. When the system receives the Voice Header from the authorized MS it is repeated. Figure 5.8A illustrates Channel Authorization for a voice call during call hangtime, where HT is Call Hangtime, VH is Voice Header, and A is voice burst A. 

NOTE: Figure 5.8A is a generic illustration utilizing aligned channel timing that covers both single site and multi-
site deployments. In single site the Voice Header is typically repeated in the next outbound burst after 
reception. 
Figure 5.8A: Channel Authorization during Call Hangtime 
5.1.1.6.1 BS Channel Authorization Procedures 
5.1.1.6.1.1 Single Site BS Channel Authorization Procedures 
Upon reception of a ChanAuth PDU the BS shall set the CACH AT information element to BUSY, start the T_BS_ChanAuthRsp timer and start repeating the received ChanAuth PDU burst. The BS shall transmit the ChanAuth PDU until the T_BS_ChanAuthRsp timer expires or it receives a burst with a Source ID matching the Source ID transmitted in the ChanAuth PDU. Upon reception of a burst with a Source ID matching the Source ID transmitted in the ChanAuth PDU, the BS shall cancel the T_BS_ChanAuthRsp timer and repeat the received bursts. If the T_BS_ChanAuthRsp timer expires, the BS shall transmit hangtime PDUs. 
5.1.1.6.1.2 Multi-Site BS Channel Authorization Procedures 
Upon reception of a ChanAuth PDU the BS shall set the CACH AT information element to BUSY and start a T_BS_ChanAuthSel timer. While the T_BS_ChanAuthSel timer is active the BS shall continue to transmit the hangtime PDU it was transmitting before receiving the ChanAuth PDU and will not repeat PDUs with a different Source ID than that received in the ChanAuth PDU. Upon expiration of the T_BS_ChanAuthSel timer the BS shall select one of the received ChanAuth PDUs. The selection process includes the ChanAuth PDU that initiated the T_BS_ChanAuthSel timer as well as any ChanAuth PDU received from remote sites while the T_BS_ChanAuthSel timer was active. 
Upon selection of a ChanAuth PDU the BS shall keep the CACH AT information element at BUSY, start the T_BS_ChanAuthRsp timer and start repeating the selected ChanAuth PDU burst. The BS shall transmit the selected ChanAuth PDU until the T_BS_ChanAuthRsp timer expires or it receives a burst with a Source ID matching the Source ID transmitted in the selected ChanAuth PDU. Upon reception of a a burst with a Source ID matching the Source ID transmitted in the selected ChanAuth PDU, the BS shall cancel the T_BS_ChanAuthRsp timer and repeat the received bursts. If the T_BS_ChanAuthRsp timer expires, the BS shall transmit hangtime PDUs. 
5.1.1.6.2 MS Channel Authorization Procedures 
The MS initiates a transmission (voice, data or CSBK) by transmitting a single burst (ChanAuth PDU) on the payload channel and then starts the T_MS_ChanAuth timer and transitions to receive mode. If the requesting MS receives a ChanAuth PDU with its ID before T_MS_ChanAuth timer expires, it cancels T_MS_ChanAuth timer and transmits the payload. If the requesting MS receives a ChanAuth PDU different than its ID before T_MS_ChanAuth timer expires, it cancels the T_MS_ChanAuth timer and the call request is denied and it stays in receive mode. If T_MS_ChanAuth timer expires and the requesting MS is still receiving Call Hangtime PDUs, it starts a random holdoff timer to determine when to reattempt channel access. 
NOTE:  T_MS_ChanAuth timer may be different for single site and multi-site deployments.  
5.1.2  Feature Not Supported (FNS) signalling  
5.1.2.0  Feature Not Supported (FNS) signalling - Introduction  

The Feature Not Supported (FNS) signalling shall be used when an MS is individually addressed with feature signalling it does not support. The non-supported feature signalling received by the MS occurs through a PDU that contains a Standard FID (SFID) and a CSBKO that it does not support. 
The MS may use either impolite or polite non-time critical CSBK ACK/NACK channel access procedure as defined in clause 5.2.2.3 of ETSI TS 102 361-1 [1], to transmit the FNS signalling PDU. 
5.1.2.1 FNS Data Bursts/Fields 
When a feature is not supported, the target MS shall attempt to respond to the source MS with a Negative Acknowledgement Response (NACK_Rsp) CSBK PDU. Details are listed in table 5.2. Contents of the NACK_Rsp PDU are found in clause 7.1.2.4. 
Table 5.2: Feature Not Supported data burst 
Data Type  Value  Function  Data Contents  CSBKO  
CSBK  00112  FNS Signalling  NACK_Rsp  1001102  

5.1.2.2 MS FNS MSC 
Figure 5.9 illustrates the MSC for a NACK_Rsp with polite channel access. Here the DLL, after receiving the TX_Request primitive, sets Idle Search Timer (T_IdleSrch) as defined in ETSI TS 102 361-1 [1] and determines the channel status. If the channel status is idle then the NACK_Rsp PDU shall be transmitted. Alternatively, if the channel is busy the DLL starts the Random_Holdoff timer (T_Holdoff), as defined in ETSI TS 102 361-1 [1]. If the channel is busy the MS shall complete at least one holdoff cycle in its attempt to transmit the NACK_Rsp. 
In this example at the expiration of the timer, if the channel is idle the PDU is transmitted and if the channel is busy the timer is restarted. It is the responsibility of the DLL to transmit the message. The only role of the CCL is to determine the feature is not supported and to instruct the DLL to transmit the NACK_Rsp PDU. 

Figure 5.9: TX Granted for FNS_NACK  
5.2  Primary voice services  
5.2.1  Group call service  
5.2.1.0  Group call service - Introduction  

The group call service provides voice call service between one individual user and a predetermined group of users. All parties in the group can hear each other. The group call is initiated at the user level by selecting the desired group via a predefined selection procedure (see note) and then activating a mechanism to talk, such as pressing the PTT button. 
NOTE: The selection procedure is implementation specific and is not part of the present document. 
5.2.1.1 Service description 
Group call initiation or Beginning Of Call (BOC) follows a predetermined channel access mechanism. This access procedure may use any of the standard channel access procedures. These procedures are impolite, polite to own Colour Code and polite to all. 
The first burst at the Beginning Of Transmission (BOT), which may be the BOC, carries the necessary information to allow the selected group to be notified of that call. This is accomplished with the Group Voice Channel User (Grp_V_Ch_Usr) LC Message using the Voice LC Header Data Type burst. The first voice burst is preceded by a Voice LC Header in the appropriate slot. This is illustrated in figure 5.4 of ETSI TS 102 361-1 [1]. 
Group call supports late entry into a call by embedding the LC information into the voice bursts. This helps support scanning, radios being powered on during a transmission addressed to that particular unit and units that do not correctly decode the voice header. This is accomplished with the Group Voice Channel User (Grp_V_Ch_Usr) LC message. 
A Group Call End Of Transmission (EOT) shall be accomplished by transmitting the entire last voice superframe (through voice burst "F"), and then sending the Group Voice Channel User (Grp_V_Ch_Usr) LC Message using the Terminator with LC Data Type burst. This is illustrated in figure 5.8 of ETSI TS 102 361-1 [1]. 
Call hangtime is used in order to extend a call past the End of Transmission. End Of Call (EOC) occurs at the expiration of call hangtime. 

5.2.1.2 Group call data bursts/fields 
5.2.1.2.1 Direct mode 
The Group call service requires two data type bursts and seven embedded field messages. These are listed in tables 5.3 and 5.4 respectively. The contents of the embedded LC, Grp_V_Ch_Usr PDU, are defined in clause 7.1.1.1. Contents of the embedded Null message are defined in clause D.1 of ETSI TS 102 361-1 [1]. Contents of the embedded LC, Talker_Alias_hdr, Talker_Alias_blk1, Talker_Alias_blk2, Talker_Alias_blk3, are defined in clauses 7.1.1.4 and 7.1.1.5. Contents of the embedded LC, GPS_info is defined in clause 7.1.1.3. The Null message is embedded in the "F" burst of the voice superframe on the forward channel. 
Table 5.3: Group call data bursts 

Data Type  Value  Function  Data Contents  FLCO  
Voice LC Header  00012  Transmission Addressing  Grp_V_Ch_Usr  0000002  
Terminator with LC  00102  End of Transmission  Grp_V_Ch_Usr  0000002  

Table 5.4: Group call embedded field messages 

Link Control (LC) Message  FLCO  Function  Bursts  
Grp_V_Ch_Usr  0000002  Late Entry  4  
Null  NA  Filler  1  
Talker_Alias_hdr  0001002  Inband Talker Alias during voice call  4  
Talker_Alias_blk1  0001012  Inband Talker Alias during voice call  4  
Talker_Alias_blk2  0001102  Inband Talker Alias during voice call  4  
Talker_Alias_blk3  0001112  Inband Talker Alias during voice call  4  
GPS_Info  0010002  Inband Position during voice call  4  


5.2.1.2.2 Repeater mode 
Repeater mode uses the same data bursts or fields as direct mode as defined in clause 5.2.1.2.1. However, the BS also generates Grp_V_Ch_Usr LC PDUs using the Terminator with LC data type burst to signal call (reserved) hangtime. The Null message is always embedded in the F burst of the voice superframe on the inbound channel and embedded in the reverse channel location on the outbound channel when no reverse channel signalling is required. 


5.2.1.3 MS group call control 
5.2.1.3.1 MS group call SDL 
The Inactive state is any CCL state with the exception of My_Call or In_Session. The CCL sends a TX_Request primitive to the DLL and transitions to the Wait_for TX_Response state. If the TX_Denied primitive is received from the DLL, the CCL transitions to the inactive state. If the TX_Granted primitive is received from the DLL, the CCL sends the BOTx primitive and transitions to the TX_Voice state. When the transmission ends, the CCL transitions to the In_Session state. 


5.2.1.3.2 MS group call HMSC 
For descriptions of various states in this diagram refer to clause G.1 of ETSI TS 102 361-1 [1]. 
Figure 5.11 shows two entry points. The entry point into PTT is for transmission and the entry point into Not_in_Call is for reception. The illustration is the same for direct mode and repeater mode. A minor difference between the two modes occurs because the In_Session state does not exist in direct mode. In this case the MS shall immediately transition to the Out_of_Sync state since the outbound cannot be found. 

Figure 5.11: Group Call HMSC 

5.2.1.3.3 MS group call MSCs 
5.2.1.3.3.0 MS group call MSCs - Introduction 
The following MSCs attempt to show a decomposition of the MS functional layers as defined in clause 4.1. 

5.2.1.3.3.1 MS MSC PTT 
Figure 5.12 illustrates the MS CCL receiving a PTT_Request primitive. Though the action boxes in figure 5.12 indicate this is a BOC, the MSC with respect to the primitives is the same if the MS is in one of the following states: 
 
My_Call; 

 
Not_in_Call; 

 
In_Session; or 

 
Other_Call. 


The CCL sends a TX_Request primitive to the DLL and transitions to the Wait_for_TX_Response state. In this state the CCL waits for a TX_Granted or TX_Denied primitive from the DLL channel access process. 

5.2.1.3.3.2 MS MSC TX_Denied 

Figure 5.13: MSC TX_Denied 

5.2.1.3.3.3 MS MSC TX_Granted 
After receiving the TX_Granted primitive the CCL sends a BOTx primitive to the DLL to indicate beginning of transmission and then transitions to the TX_Voice state. The DLL proceeds by sending the Voice_LC_Header (Grp_V_Ch_Usr) PDU followed by a voice burst stream on the appropriate slot. 

Figure 5.14: MSC TX_Granted 
5.2.1.3.3.4 MS MSC My_ID_Header 
The CCL transitions to the My_Call state when the destination ID matches. Voice is sent directly from the DLL to the User_IO. 

Figure 5.15: MSC My_Header_LC 

5.2.1.3.3.5 MS MSC My_ID_LC 
Figure 5.16 illustrates MS actions when its CCL receives an address match in the DLL transmitted LC primitive while in either the In_Session (call hangtime) or Not_in_Call (channel hangtime) states. This occurs when the MS receives the Grp_V_Ch_Usr PDU that contains a matching address via the embedded LC PDU in the voice superframe. 
This is a late entry scenario. The CCL transitions to the My_Call state and the speaker is un-muted. Voice is sent directly from the DLL to the User_IO. 


5.2.1.3.3.6 MS MSC Dekey 
The CCL receives a Dekey_Indication primitive and sends an EOTx primitive to the DLL. The MS shall pad out the superframe through voice burst "F" and then shall send a Terminator_with_LC (Grp_V_Ch_Usr) PDU. The CCL transitions to the In_Session state. 

Figure 5.17: MSC Dekey 

5.2.1.3.3.7 MS MSC terminator 
The DLL sends an EORx primitive to the CCL. The CCL sends an End_of_RX primitive, which mutes the speaker, and transitions to the In_Session state. In direct mode, since there is no hangtime, the MS will then quickly transition to the Out_of_Sync state. See figure 5.21 for details. 

Figure 5.18: MSC Terminator 

5.2.1.3.3.8 MS MSC RX_Idle_SYNC_in_Call_HT 
Figure 5.19 illustrates MS actions when an Idle PDU is received while the CCL is in the In_Session state. 
The DLL sends an Idle_Data primitive to the CCL, which ends the call, and transitions to the Not_in_Call state. NOTE: This is for repeater mode only and indicates the end of call hangtime. 
MSC RX_Idle_in_Call_HT 
MS receives Idle message during Call Hang Time 
-
 Repeat Mode only 

-
 Call Hang Time > 0 





PL 

USER_IO 


Call hangtime messages 
Continuously receive Terminator with LC for call hang time duration 
Idle 
(Idle) 
End_of_Call 
ETSI 

5.2.1.3.3.9 MS MSC Not_My_ID 
In Call Hangtime the MS CCL is in the In_Session state. The DLL sends the CCL an EOC primitive when the address is determined to not match the address in Call Hangtime. This can be decoded from either a Voice_LC_Header or an Embedded_LC containing a voice call PDU. In this example the PDU is Grp_V_Ch_Usr which indicates another Group Call is on the channel. The CCL ends the call and transitions to the Other_Call state. 

Figure 5.20: MSC Not_My_ID 
ETSI 

5.2.1.3.3.10 MS MSC No_outbound_follow_EOT 
Figure 5.21 illustrates MS actions when it does not find sync while in the In_Session state. 
The DLL sends a Sync_Fail primitive to the CCL. The CCL ends the call and transitions to the Out_of_Sync state, which can occur after it stops transmitting. 
MSC No_downlink_follows_EOT 
MS doesn't find SYNC after dekeying 
- Repeat Mode and Direct Mode 



PL 


USER_IO 


downlink frequency is inactive 
fail to detect SYNC 

5.2.2 Individual call service 
5.2.2.0 Individual call service - Introduction 
The Individual Call service provides voice service between one individual user and another individual user. The Individual Call facility is initiated at the user level by selecting the desired individual via a predefined selection procedure (see note) and then activating a mechanism, such as pressing the PTT button. 
NOTE: The selection procedure is implementation specific and is not part of the present document. 
5.2.2.1 Service description 
Individual Call initiation or Beginning Of Call (BOC) may occur in one of two defined call setup methods: 
 
the first method is a Press And Talk Call Setup (PATCS); and 

 
the second method is an Off Air Call SetUp (OACSU). 


The PATCS method may employ Impolite, Polite to Own Colour Code or Polite to All Channel Access, whereas the OACSU method may only employ Polite to Own Colour Code or Polite to All Channel Access. An MS in either the In_Session or My_Call High Level states shall use an impolite Channel Access mechanism. 
In the OACSU method the source MS attempts a presence check of the target MS. This is accomplished with the Unit to Unit Voice Channel User (UU_V_Req) CSBK message. When the target MS receives the request message, it shall respond automatically with an acknowledgement. This shall be accomplished with the Unit to Unit Answer Response (UU_Ans_Rsp) CSBK message for an accept response and shall be accomplished with either the Unit to Unit Answer Response (UU_Ans_Rsp) CSBK or the Negative Acknowledgement Response (NACK_Rsp) CSBK for a reject response. The response message may employ either Impolite, Polite to All or Polite to Own Colour Code channel access mechanism. Upon receiving an acknowledgement that rejects the call, the source MS should not proceed with the call. Upon receiving an acknowledgement that accepts the call, the source MS follows the PATCS method with impolite channel access. Therefore, the PATCS method is a subset of the OACSU method. 
In the PATCS method the first burst at the Beginning Of Transmission (BOT), which may be the BOC carries the necessary information to allow the target MS to be notified of the incoming call. This is accomplished with the Unit to Unit Voice Channel User (UU_V_Ch_Usr) LC message using the Voice LC Header Data Type burst. The first voice burst shall be preceded by a Voice LC Header in the appropriate slot. This is illustrated in figure 5.4 of ETSI TS 102 361-1 [1]. 
Individual Call supports late entry into a call by embedding the LC information into the voice bursts. This helps support scanning and radios being powered on during a transmission addressed to that particular unit when the PATCS method is used. It also supports units that do not correctly decode the voice header when either the PATCS or the OACSU method is used. This is accomplished with the Unit to Unit Voice Channel User (UU_V_Ch_Usr) LC message. 
An Individual Call End Of Transmission (EOT) is accomplished by transmitting the entire last voice superframe (through voice burst F), and then sending the Unit to Unit Voice Channel User (UU_V_Ch_Usr) LC Message using the Terminator with LC Data Type burst. This is illustrated in figure 5.8 of ETSI TS 102 361-1 [1]. 
Call hangtime is used in order to extend a call past the End of Transmission. End Of Call (EOC) occurs at the expiration of call hangtime. For OACSU individual calls, subsequent transmissions before the End of Call should be PATCS method. 
5.2.2.2 Individual call data bursts/fields 
5.2.2.2.1 Direct mode 
The Individual Call service requires four Data Type bursts and seven embedded field messages. These are listed in tables 5.5 and 5.6 respectively. The contents of all messages with the exception of the embedded Null are defined in clause 7.1. Contents of the embedded Null message are defined in clause D.1 of ETSI TS 102 361-1 [1]. Contents of the embedded LC, Talker_Alias_hdr, Talker_Alias_blk1, Talker_Alias_blk2, Talker_Alias_blk3, are defined in clauses 7.1.1.4 and 7.1.1.5. Contents of the embedded LC, GPS_info is defined in clause 7.1.1.3. The Null message is embedded in the "F" burst of the voice superframe on the forward channel. 
Table 5.5: Individual call data bursts 

Data Type  Value  Function  Data Contents  Opcode  
CSBK  00112  Presence check  UU_V_Req  0001002  
CSBK  00112  MS Initiated Acknowledgement  UU_Ans_Rsp  0001012  
Voice LC Header  00012  Transmission Addressing  UU_V_Ch_Usr  0000112  
Terminator with LC  00102  End of Transmission  UU_V_Ch_Usr  0000112  

Table 5.6: Individual call embedded field messages 

Link Control (LC) Message  FLCO  Function  Bursts  
UU_V_Ch_Usr  0000112  Late Entry  4  
Null  NA  Filler  1  
Talker_Alias_hdr  0001002  Inband Talker Alias during voice call  4  
Talker_Alias_blk1  0001012  Inband Talker Alias during voice call  4  
Talker_Alias_blk2  0001102  Inband Talker Alias during voice call  4  
Talker_Alias_blk3  0001112  Inband Talker Alias during voice call  4  
GPS_Info  0010002  Inband Position during voice call  4  

5.2.2.2.2 Repeater mode 
Repeater mode uses the same data bursts/fields as direct mode as defined in clause 5.2.2.2.1. However, the BS also generates UU_V_Ch_Usr LC PDUs using the Terminator with LC Data Type burst to signal call (reserved) hangtime. The Null message is always embedded in the "F" burst of the voice superframe on the inbound channel and embedded in the reverse channel location on the outbound channel when no reverse channel signalling is required. 
5.2.2.3 MS Individual call channel access 
5.2.2.3.0 MS individual call channel access -Introduction 
Individual call Service via the PATCS method shall follow the same channel access rules as group call. However, the CSBK PDUs used to perform the presence check (UU_V_Req) and to answer the presence check (UU_Ans_Rsp) for the individual call service via the OACSU method require some application specific rules. These specific rules are defined in the following clauses and compliment the channel access diagrams in clause 5.2.2 of ETSI TS 102 361-1 [1]. 
5.2.2.3.1 UU_V_Req channel access SDL 
The specific channel access rules for the transmission of the UU_V_Req CSBK are illustrated in SDL in figure 5.22. The DLL receives a TX_CSBK primitive from the CCL while in the TX_Idle state. The DLL starts the Idle_Search timer (T_IdleSrch), initializes the Retry_Counter to 0 and transitions to the Qualify_Idle state. If the channel is busy the transmission is immediately denied. If the channel is idle the UU_V_Req CSBK PDU is transmitted, an Ack_Wait timer (T_AckWait) is started and the DLL transitions to the Wait_for_ACK state. 
While in the Wait_for ACK state, if the UU_Ans_Rsp CSBK PDU is received the DLL informs the CCL. If the ACK_Wait timer (T_AckWait) expires and Retry_Counter equals the CSBK_Retry_Limit (N_CSBKRetry), then a retry transmission is not attempted and the CCL is informed. If the number of attempts is less than the CSBK_Retry_Limit then the MS returns to the Qualify_Idle state to attempt to retransmit the CSBK PDU. 
process OACSU_CSBK_TX 1(1) 

<Retry_ 
Limit Limit 

TX_Idle 
Qualify_Idle 

UU_V_Req Retry Limit 
Initialize 
TX_Idle 
Retry Counter 
Qualify_Idle 

=Retry_ 
TX_Voice 
TX_Idle 
Qualify_Idle 
Figure 5.22: UU_V_Req Channel Access SDL 
5.2.2.3.2 UU_Ans_Rsp channel access SDL 
The specific channel access rules for the transmission of the UU_Ans_Rsp CSBK when the MS is designed for polite CSBK responses are illustrated in SDL in figure 5.23. 
NOTE: If an MS is designed for impolite transmission of CSBK responses, it will follow the channel access rules as defined in clause 5.2.2 of ETSI TS 102 361-1 [1]. 
The DLL receives a TX_CSBK primitive from the CCL while in the TX_Idle state. While the DLL is in the Qualify_Idle state, if the channel is idle the CSBK PDU is transmitted and if the channel is busy the transmission is denied. There are no retries or holdoff times for this time critical response. 
process OACSU_ACK_CSBK_TX 1(1) 


5.2.2.4 MS Individual call control 
5.2.2.4.0 MS individual call control - Introduction 
The individual call service via the PATCS method shall follow the same rules as group call, while using the individual call specific messages. The individual call service via the OACSU method shall follow the same rules as an impolite group call once the presence check is accomplished. Therefore this clause only defines the presence check sequence of an OACSU call. Refer to clause 5.2.2 for PATCS rules. 
5.2.2.4.1 MS OACSU Individual call source CCL SDL 
Figure 5.24 illustrates the source MS CCL when an OACSU individual call transmission is requested. 
The inactive state is any CCL state with the exception of My_Call or In_Session. The CCL sends a TX_CSBK primitive to the DLL and transitions to the Wait_for ACK state. The DLL may use either a Polite to All or Polite to Colour Code channel access mechanism for voice CSBKs. If the TX_Denied primitive or the No_CSBK_ACK primitive is received from the DLL, the CCL transitions to the inactive state. If the CCL receives the UU_Ans_Rsp CSBK PDU with the deny Reason Code then the call is denied and the CCL transitions to the Inactive state. If the CCL receives the UU_Ans_Rsp CSBK PDU with the proceed Reason Code then it sends a Transmit_Request primitive for impolite access to the DLL. Further transitions are shown for completeness and follow the rules of the Group Call feature. 
process Individual_Call_CCL 1(1) 


Impolite 
5.2.2.4.2 MS OACSU Individual call setup MSCs 
5.2.2.4.2.1 MS OACSU no ACK RX 
Figure 5.25 illustrates source MS actions when the UU_V_Req CSBK PDU is transmitted and the UU_Ans_Rsp CSBK PDU is not received and the ACK_Wait timer (T_AckWait) expires. 
This shows the case when the MS is not programmed for additional DLL retries and one additional DLL retry. 

5.2.2.4.2.2 MS OACSU ACK RX 
Figure 5.26 illustrates source MS actions when the UU_V_Req CSBK PDU is transmitted and the UU_Ans_Rsp CSBK PDU is received before the Wait_for_ACK timer expires. 
If the Reason Code is "deny" in the received CSBK, then the call will not proceed and the CCL transitions to the Inactive state. However, if the Reason Code in the received CSBK is "proceed" the CCL sends a TX_Request primitive to the DLL specifying impolite channel access. The DLL replies with a TX_Granted primitive and the CCL sends a BOTx primitive to the DLL and transitions to the TX_Voice state. The DLL responds by transmitting the UU_Ch_Usr PDU Voice LC Header followed by voice superframes. 

Figure 5.26: OACSU Individual call ACK received  
5.3  Supplementary voice services  
5.3.1  Unaddressed voice call service  
5.3.1.0  Unaddressed voice call service - Introduction  

The unaddressed voice call is a group voice call that uses one of a set of defined destination addresses as defined in annex A of ETSI TS 102 361-1 [1]. One of these addresses is the default unaddressed voice call address. Usage of the other Unaddressed Voice Call addresses is out of the scope of the present document. 
NOTE: Using an unaddressed voice call gives the users the possibility to define an MS behaviour which may be different to a normal group call. For example special alert tones. This also provides basic out-of-the box MS configuration possibilities and could be used for communications between different user organizations, each of which has its own group definitions. 
5.3.1.1 Unaddressed voice call data burst/fields 
The unaddressed voice call requires the same bursts as group call, which is defined in clause 5.2.1. For an unaddressed call the group address of Grp_V_Ch_Usr shall be set to one of the reserved Unaddressed Call values, as defined in annex A of ETSI TS 102 361-1 [1]. 
5.3.1.2 MS Unaddressed voice call control 
The unaddressed voice call control follows the SDL, HMSC and MSC schemes of group call, shown in clause 5.2.1. 
5.3.2 All call voice service 
5.3.2.0 All call voice service - Introduction 
The all call voice service provides a one-way voice call from any user to all users on a channel. Due to the large target audience, there is no call hangtime associated with this call in repeater mode. This effectively ends the call at the end of the transmission. Ending the call at the end of transmission minimizes potential collisions from multiple MSs attempting to respond to the call. 
The all call may be placed by the user with the simple pressure of the PTT button. It starts with the transmission of a voice header, which is followed by voice and ends with the transmission of a Terminator with LC. Late entry is provided for in this service. 
The all call is made in the same manner as a group voice call using one of a set of reserved destination addresses as defined in annex A of ETSI TS 102 361-1 [1]. Of these reserved addresses, one is the default all unit ID address while the others are alternative All Unit ID addresses. 
5.3.2.1 All call data bursts/fields 
The all call requires the same bursts as group call service, which is defined in clause 5.2.1. For an all call the group address of Grp_V_Ch_Usr PDU shall be set to one of the reserved All Unit IDs values, as defined in annex A (DMR addressing scheme) of ETSI TS 102 361-1 [1]. Additionally the Service Options Broadcast Field of the Grp_V_Ch_Usr PDU shall be set to 12. This indicates to the BS that this is a one way voice call and no call hangtime is to be generated. 
5.3.2.2 MS All call control 
The all call control follows the SDL, HMSC and MSC schemes of Group Call, shown in clause 5.2.1 with the following exceptions: 
 
the absence of call hangtime will move the MS from the My_Call state to the Not_in_Call state in repeater mode; and 

 
the In_Session state is not relevant to all call in repeater mode as there is no call hangtime. 


5.3.2.3 BS All call control 
5.3.2.3.1 All call voice repeating 
The BS shall follow the voice call repeating rules as defined in clause 5.1.1.2. 
5.3.2.3.2 All call end of transmission 
Figure 5.27 illustrates the BS actions when the end of transmission of an all call occurs. The end of transmission is signalled by the source MS with a Grp_V_Ch_Usr PDU using a Terminator with LC data slot type after transmitting the entire last superframe through voice burst F. The DLL passes this up to the CCL_BS with an EOR_Slot_1 primitive. This is then passed to CCL_1 with the EOR primitive. CCL_1 recognizes the Service Options Broadcast Field is set to 12 and sends a Generate_Idles primitive to the CCL_BS and transitions to the Channel_Hangtime state. The CCL_BS 
then sends a Generate_Idles primitive to the DLL. The BS then transmits Idle PDUs on the outbound channel and sets the CACH AT bit to 02 to indicate the channel is idle. The CCL_BS states are defined in clause G.2.1 of ETSI TS 102 361-1 [1] and the CCL_1 and CCL_2 states are defined in clause G.2.2 of ETSI TS 102 361-1 [1]. 

5.3.3 Broadcast call voice service 
5.3.3.0 Broadcast call voice service - Introduction 
The broadcast call voice service provides a one-way voice call from any user to a predetermined large group of users. Due to the large target audience, there is no call hangtime associated with this call in repeater mode. This effectively ends the call at the end of the transmission. Ending the call at the end of transmission minimizes potential collisions from multiple MSs attempting to respond to the call. 
The broadcast call is made in the same manner as a group voice call. The broadcast call may be placed by the user with the simple pressure of the PTT button. It starts with the transmission of a voice header, which is followed by voice and ends with the transmission of a Terminator with LC. Late entry is provided for in this service. 
5.3.3.1 Broadcast call data bursts/fields 
The broadcast call requires the same bursts as group call service, which is defined in clause 5.2.1. For a broadcast call the Service Options Broadcast Field of the Grp_V_Ch_Usr PDU shall be set to 12. This indicates to the BS that this is a one way voice call and no call hangtime is to be generated. 
5.3.3.2 MS Broadcast call control 
The broadcast call control follows the SDL, HMSC and MSC schemes of group call, shown in clause 5.2.1 with the following exceptions. The absence of call hangtime will move the MS from the My_Call state to the Not_in_Call state in repeater mode. The In_Session state is not relevant to broadcast call in repeater mode as there is no call hangtime. 
5.3.3.3 BS Broadcast call control 
5.3.3.3.1 Broadcast call voice repeating 
The BS shall follow the voice call repeating rules as defined in clause 5.1.1.2. 
5.3.3.3.2 Broadcast call end of transmission 
The BS shall follow the End of transmission rules as defined in clause 5.3.2.3.2. 
5.3.4 Open voice channel mode service 
5.3.4.0 Open voice channel mode service - Introduction 
The open voice channel mode service allows users to monitor and participate to the voice channel activity. This call modification is possible only on voice activity originator basis that is to say that if a user is not an explicitly addressed target of the call it can take part to it only if the originator has properly set the OVCM attribute. 
From the voice activity originator's point of view the OVCM gives the opportunity to place group and individual calls that are listened from third party users that are not the targeted users of the call. In addition these third party users are part of the conversation in progress and they can also talk. 
Third party users are those that have radios configured to take part to calls set as OVCM and not addressed explicitly to them. 
Both in direct mode and repeater mode, OVCM call modifier applies to the following half duplex voice calls: 
 
Group Calls (see clause 5.2.1); 

 
Individual Calls (see clause 5.2.2). 


OVCM service does not apply to the following calls: 
 
unaddressed Voice calls; 

 
all talkgroup ID calls; 

 
all unit ID calls;  other "system gateway" calls such as PABX, PSTN; 

 
full duplex voice calls; 

 
data calls. 


5.3.4.1 OVCM service description 
To achieve the OVCM service a bit is used in the service options information element in order to set the call as OVCM or not. This is illustrated in table 7.10. 
Service options information element is present in call set-up signalling, Voice LC Header and Terminator with LC for each type of voice call (Group and Individual). 
The behaviour of OVCM is summarized in table 5.7. 
Table 5.7 
Feature  OVCM bit  Description  Targeted users rights  Third party user rights  
Group Voice Call  1  The users that are the recipients for the call are alerted for the incoming call and are part of the call The users that are not the recipients for the call are not alerted but they can take part to the conversation.  talk listen  talk listen  
0  The users that are the recipients for the call are alerted for the incoming call and are part of the call The users that are not the recipients for the call are not alerted and they are not part of the conversation.  talk listen  the channel is busy  
Individual Voice Call  1  The user that is the recipient for the call is alerted for the incoming call and is part of the call. The other users that are not the recipients for the call are not alerted but they are part of the conversation.  talk listen  talk listen  
0  The user that is the recipient for the call is alerted for the incoming call and is part of the call. The users that are not the recipients for the call are not alerted and they are not part of the conversation.  talk listen  the channel is busy  

In table 5.7, user's permission to participate in an OVCM service as a third party is not taken into account. User's permission to participate in an OVCM service in progress and possible differences in user alerting are implementation dependent and not covered by the present document. 
5.4 Voice associated inband data services 
5.4.1 Voice associated inband data services - Introduction 
The voice associated inband data services provide inband data of a transmitting MS during a voice call. It can be transported by single packet or multi-packet data according to the length of inband data. The general transport mechanism and rule of voice associated inband data services are as follows: 
 
The inband data may be inserted in a private call, group call, broadcast call and all call. 

 
The inband data may be transported by embedded LC in voice super frame. The maximum frequency of occurrence of embedded LC inband data different from embedded LC with source and destination addresses for Late Entry purposes is 1:1. It means that the max occurrence frequency of inband data during a voice call is 1 every 2 superframes. 

 
The inband data may be made up of a maximum of 4 packets and the MS may use this inband data when it has received the complete packet. 

 
The inband data belong to the same transmitting MS and can be recovered from different speech items during the call. 


5.4.2 Inband positioning data service 
This is a single packet inband data service and provides positioning data of a transmitting MS during a voice call. Such positioning data are derived from LIP. 
5.4.3 Inband talker alias data service 
This is a single or multi packet inband data service and can provide alias information of a transmitting MS to a receiving radio during a voice call. The full talker alias can be made up of a maximum of 4 packets and this will allow a maximum of 31 Code Units of alias data. The first LC PDU of talker alias carries control information of whole alias and at most 7 Code Units of alias data. Every following LC PDU can carry at most 8 Code Units of alias data. The MS may decode and update the talker alias information when it has received the complete packet. The number of talker alias LC PDUs and exact length of talker alias Code Units during a voice call can be calculated by "Talker Alias data length" element in talker alias header LC PDU as follows. 
 7-bit ASCII coded format: 
-One talker alias LC header PDU (Data Length = 7 Code Units); 
-One talker alias LC header PDU plus one talker alias LC Block PDU (15 Code Units = Data Length > 7 Code Units); 
-One talker alias LC header PDU plus two talker alias LC Block PDUs (23 Code Units = Data Length > 15 Code Units); 
-One talker alias LC header PDU plus three talker alias LC Block PDUs (31 Code Units = Data Length > 23 Code Units); 
 UTF 8 or ISO 8 [i.2] bit coded format: 
-One talker alias LC header PDU (Data Length = 6 Code Units); 
-One talker alias LC header PDU plus one talker alias LC Block PDU (13 Code Units = Data Length > 6 Code Units); 
-One talker alias LC header PDU plus two talker alias LC Block PDUs (20 Code Units = Data Length > 13 Code Units); 
-One talker alias LC header PDU plus three talker alias LC Block PDUs (27 Code Units = Data Length > 20 Code Units); 
 UTF 16-bit coded format: 
-One talker alias LC header PDU (Data Length = 3 Code Units); 
-One talker alias LC header PDU plus one talker alias LC Block PDU (6 Code Units = Data Length > 3 Code Units); 
-One talker alias LC header PDU plus two talker alias LC Block PDUs (10 Code Units = Data Length > 6 Code Units); 
-One talker alias LC header PDU plus three talker alias LC Block PDUs (13 Code Units = Data Length > 10 Code Units). 
6 DMR facilities 
6.1 Transmit timeout 
DMR MSs shall have a transmit TimeOut timer (T_TO) which limits the time of a single transmission item. This timer shall be set to the value T_TO (see annex A) whenever the PTT key is pressed and counts down to zero. 
The value of this timer is fixed for Tier I MSs (see annex A). 
For Tier II and Tier III MSs the value of this timer is variable and may be changed (see annex A). 
If the transmit TimeOut timer expires during a voice transmission, then the MS will stop transmitting between immediately and after the end of the current superframe plus one burst and may not re-transmit until PTT has been released and pressed again. If the transmit TimeOut timer expires during a data transmission, then the MS will stop transmitting immediately. 
NOTE: Stopping a voice transmission after the end of the current superframe plus one burst allows the MS to end its voice transmission with its normal mode of operation by completing the superframe and sending a Terminator with LC. 
6.2 TDMA direct mode wide area timing 
6.2.1 Facility description 
6.2.1.0 Facility description - Introduction 
With independent TDMA MS transmissions sharing a channel, one needs to be concerned about keeping the two MS transmissions within the assigned timeslot boundaries to avoid inter-timeslot interference. To minimize interference opportunities, it is important that all MS units in the wide area system are transmitting with the same channel slot timing. One MS in the wide area system is appointed as the wide area timing leader and sets the channel slot timing. MS units share their TDMA direct mode timing information with one another. This spreads the timing information from the leader MS all the way to the MS units at the edge of the system. 
The solution is comprised of 4 high level states. The 4 high level states are Leader_and_Timing_Unknown, Leader_and_Timing_Known, Leader_Unknown and Leader. The roles of the MS in each of these states are defined below. 
6.2.1.1 Leader_and_Timing_Unknown 
In the Leader_and_Timing_Unknown state the MS does not know the channel slot timing, which is the actual slot 1 vs. slot 2 channel timing. This can occur at power up or upon channel change to a different frequency. An MS changing channels from slot 1 to slot 2 of the same frequency shall stay in it is current timing state. Additionally, the MS does not know the channel timing leader either. In this state the MS has the following three roles; learn leader and channel slot timing, appoint a leader and be appointed as a leader. 
6.2.1.2 Leader_Unknown 
In the Leader_Unknown state the MS once knew the channel timing but it has since expired. Additionally the MS does not know the channel timing leader and can no longer assume that the former channel timing leader is the current channel timing leader. In this state the MS has the same roles as it does in the Leader_and_Timing_Unknown state. When transmitting, the MS shall transmit with the last known channel slot timing in a best effort to minimize interfering with multiple slots. 
6.2.1.3 Leader_and_Timing_Known 
In the Leader_and_Timing_Known state the MS knows both the channel slot timing, which is the actual slot 1 vs. slot 2 channel timing and the channel timing leader. In this state the MS has the following five roles; appoint a leader, be appointed as a leader, accept a new leader, send leader timing push and send leader timing correction. The roles of appointing a leader and being appointed a leader are similar to those in the Leader_and_Timing_Unknown state. 
6.2.1.4 Leader 
In the Leader state the MS is the leader and sets the channel slot timing. In this state the MS has the following five roles; appoint a new leader, accept a new leader, resolve leader ID conflicts, send beacon timing and send leader timing correction. The role of appointing a leader is similar to that described in the Leader_and_Timing_Unknown state. The roles of accepting a new leader and sending leader timing corrections are similar to those in the Leader_and_Timing_Known state. 
6.2.2 TDMA direct mode data bursts/fields 
6.2.2.1 Synchronization 
When transmitting wide area timing information, the MS shall use the sync patterns associated with the MS unit's provisioned time slot. These are defined in ETSI TS 102 361-1 [1], clause 9.1.1. 
6.2.2.2 Colour Code 
TDMA direct mode channels shall be provisioned with a colour code, similar to other modes of operation. Both timeslots operating on a particular carrier frequency may or may not use the same colour code. Additionally an "All Site" colour code is defined (F16) for use in TDMA direct mode systems. Receiving colour code F16 on a TDMA Direct 
mode channel shall be considered a qualified colour code. The "All Site" colour code shall only be used when transmitting channel timing CSBKs on the MS unit's provisioned time slot, which may be either Timeslot 1 or Timeslot 2. An MS shall decode a channel timing CSBK with the "All Site" colour code in its provisioned time slot and its non provisioned time slot. This reduces the number of CSBK transmissions required to support wide area timing on an RF channel. 
6.2.2.3 Channel Timing CSBK 
6.2.2.3.0 Channel Timing CSBK -Introduction 
The channel timing information is sent via a Channel Timing CSBK (CT_CSBK). Upon reception of a CT_CSBK the MS shall evaluate the CT_CSBK information elements (clause 6.2.3), Leader Dynamic Identifier (LDI), Leader IDentifier (LID) Generation (Gen), Sync Age (SA), Channel Timing Opcode (CTO), New Leader (NL), Source Dynamic Identifier (SDI) and Source IDentifier (SID), to determine if the sync pattern contained in the CT_CSBK sets the channel slot timing of the frequency, as illustrated in ETSI TS 102 361-1 [1], clause 10.2.3.1.2. However, since all transmissions might not fall within these timing boundaries, an MS shall decode transmissions that do not align with its channel slot timing. 
If the MS determines that the received channel timing information in the CT_CSBK indicates better timing information, the MS shall use the sync pattern contained in the newly received CT_CSBK to set the channel slot timing of the frequency (clause 6.2.3). If the MS determines the received channel timing information in the CT_CSBK does not indicate better timing information, the MS shall continue to use its current channel slot timing. The CT_CSBK may be received on either the MS unit's provisioned time slot or its non-provisioned time slot. Therefore the MS shall decode the CT_CSBK on either time slot. This helps minimize the required number of CT_CSBK transmissions. The solution utilizes 5 different CT_CSBK types. 
6.2.2.3.1 CT_CSBK_Beacon 
The CT_CSBK is periodically transmitted by the timing leader MS as a beacon (CT_CSBK_Beacon). The CT_CSBK_Beacon shall be transmitted via 12,5e direct mode Polite to All channel access rules (see clause 5.2.2.1 of ETSI TS 102 361-1 [1]) in the leader's provisioned slot with the appropriate time slot sync pattern and the all site colour code. The CT_CSBK_Beacon shall not be immediately transmitted if the channel contains any RF activity, including a TDMA direct mode transmission on either slot. This helps to ensure that the CT_CSBK_Beacon is sent with the proper channel slot timing. If the channel contains RF activity, the MS shall queue the CT_CSBK Beacon and retry at a later time. A MS that receives a CT_CSBK_Beacon shall use this to set its own channel slot timing when it determines that the transmitting MS is the wide area timing leader. The transmission duration of the CT_CSBK_Beacon shall be the BeaconDuration. 
6.2.2.3.2 CT_CSBK_Prop 
In response to receiving either a CT_CSBK_Beacon or a CT_CSBK_Prop, the transmission of a CT_CSBK_Prop shall be scheduled by non-leader MS units as a means to diffuse the proper wide area timing information to all MS units within an extended geographical area. The CT_CSBK_Prop shall be transmitted via 12,5e direct mode Polite to All channel access rules (see clause 5.2.2.1 of ETSI TS 102 361-1 [1]) in the MS's provisioned slot with the appropriate time slot sync pattern and the all site colour code. The CT_CSBK_Prop shall not be immediately transmitted if the channel contains any RF activity, including a TDMA direct mode transmission on either slot. This helps to ensure that the CT_CSBK_Prop is sent with the proper channel slot timing. If the channel contains RF activity, the MS shall queue the CT_CSBK Prop and retry at a later time. A MS that receives a CT_CSBK_Prop shall use this to set its own channel slot timing when it determines that the indicated leader MS is the wide area timing leader. The transmission duration of the CT_CSBK_Prop shall be the BeaconDuration. 
In order to minimize the number of CT_CSBKs on a channel, the scheduled CT_CSBK_Prop may be cancelled under certain conditions (see clause 6.2.3.4). A sliding window CT_RHOT strategy is implemented to propagate CT_CSBK_Prop messages out via different paths (different MS units), so that channel slot timing is more likely to be achieved over the wide area. The idea is for MS units that have recently transmitted a CT_CSBK_Prop, to have a lower probability of transmitting than MS units that have not transmitted recently. After a MS has transmitted a CT_CSBK_Prop, the next time it is to transmit a CT_CSBK_Prop it uses a uniform distribution of 2,160 to 3,240 seconds with 60 ms increments for the CT_RHOT value. It is possible that the MS will not send the CT_CSBK_Prop, as there are instances where it will cancel its request when it receives a CT_CSBK from another MS (see clause 6.2.3.4). In these cases, the MS will decrement CT_RHOT upper and lower range values by 120 ms for the next transmission request. This gives the MS a slightly higher probability of transmitting the CT_CSBK_Prop than the previous time. This 120 ms decrementing occurs until a scheduled CT_CSBK_Prop is transmitted or the lower range value equals 0, at which time the CT_RHOT range is set back to 2,160 to 3,240 seconds. 
6.2.2.3.3 CT_CSBK_Term 
The CT_CSBK shall be transmitted by all subscribers in TDMA direct mode, immediately following certain transmissions, as a terminator. A MS shall transmit a CT_CSBK_Term immediately following a voice transmission, a data transmission or a CSBK transmission, with the following two exceptions: the CT_CSBK_Term shall not be sent after a confirmed data Response Data Header or an Acknowledgement to a CSBK; i.e. UU_Ans_Rsp for OACSU Individual voice call. To facilitate new timing leader elections, the subscriber shall transmit the CT_CSBK even if the subscriber does not know the current timing leader. Figure 6.1 illustrates the rules for terminating 6.25e Direct Mode transmissions with a CT_CSBK_Term. Note that for confirmed Data the CT_CSBK_Term shall replace the Terminator Data Link Control (TD_LC) which is required in ETSI TS 102 361-3 [2], clause 5.4. 

6.2.2.3.4 CT_CSBK_Req 
The CT_CSBK is transmitted as a request for current leader and channel timing information. Before transmitting a CT_CSBK_Req, a MS waits for a random holdoff amount of time, CT_RHOT. CT_CSBK_Req is transmitted only when RF channel is free of any transmissions using the 12,5e direct mode Polite to All channel access rules (see clause 5.2.2.1 of ETSI TS 102 361-1 [1]). The transmission duration of the CT_CSBK_Req shall be the CTDuration. 
6.2.2.3.5 CT_CSBK_Resp 
The CT_CSBK_Resp is transmitted as a response to requests for current leader and channel timing information and also as a correction when a MS is observed to be using incorrect channel timing information. Before transmitting a CT_CSBK_Resp as a response or correction, a non-leader subscriber waits for a random holdoff amount of time using the CT_RHOT process. The CT_CSBK_Prop shall be transmitted via 12,5e direct mode Polite to All channel access rules (see clause 5.2.2.1 of ETSI TS 102 361-1 [1]) in the MS's provisioned slot with the appropriate time slot sync pattern and the all site colour code. The CT_CSBK_Prop shall not be immediately transmitted if the channel contains any RF activity, including a TDMA direct mode transmission on either slot. This helps to ensure that the CT_CSBK_Prop is sent with the proper channel slot timing. If the channel contains RF activity, the MS shall queue the CT_CSBK Prop and retry at a later time. The transmission duration of the CT_CSBK_Resp shall be the CTDuration. 
6.2.3 TDMA direct mode SDL 
6.2.3.0 TDMA direct mode SDL - Introduction 
The following SDL figures are informative and serve as a guide, because there are a number of ways to arrive at the same results. However, the text preceding each diagram includes normative points. When receiving a CT_CSBK in the diagrams, there are two sets of information elements that are used in the decision process: 
 
Information elements that are preceded by MS_ (e.g. MS_LWATID) are the channel timing information elements of the receiving MS. 

 
Information elements that are not preceded by MS_ (e.g. LWATID) are the channel timing information elements received by the MS in the CT_CSBK. 


6.2.3.1 Power up and channel change SDL 
Figure 6.2 illustrates MS actions when it arrives on a TDMA direct mode channel, which includes power up and channel change. However, it does not include changing to the other slot on the same frequency as the leader MS sets the timing for both slots. The SDL in figure 6.2 defines the following requirements: 
 The MS shall initialize its own Wide Area Timing IDentifier (MS_WATID), which is composed of the MS Dynamic Identifier (MS_DI) and the MS Identifier (MS_ID) as well as its Generation (MS_Gen), Sync Age (MS_SA) and its Leader WATID (MS_LWATID). 
NOTE: An individual MS unit's MS_DI may be provisionable in order to support a particular MS unit being elected or excluded from being elected as the leader. 

6.2.3.2 Leader and timing unknown SDL 
Figure 6.3 illustrates MS actions from the Leader_and_Timing_Unknown state when the NoLeaderTimer expires or the MS is requested to transmit voice, data or CSBKs other than a CT_CSBK. The SDL in figure 6.3 defines the following requirements: 
 
When MS requested to transmit, the MS shall set Source DI (SDI) bits to 002 in the transmitted CT_CSBK_Term. 

 
When NoLeaderTimer expires MS shall use its MS_DI bits for SDI in the CT_CSBK transmission. 

 
After NoLeaderTimer expiration and the MS is waiting to transmit a CT_CSBK_Req, if the MS receives a CT_CSBK then: 


-If received CT_CSBK contains a leader with a lower DI than the receiver's MS_DI, then the receiving MS shall accept the channel slot timing and continue to attempt to send the CT_CSBK_Req. 
-If received CT_CSBK does not contain a leader or contains a leader with a greater than or equal to DI than receiver's MS_DI, then the receiving MS shall cancel the request to TX and evaluate the received CT_CSBK. 
 When CT_RHOT expires and the channel is busy, the MS shall continue to attempt to send the CT_CSBK_Req: 
-The MS may attempt to send for up to 2 minutes (Not shown in SDL) before cancelling. NOTE: CT_CSBK Evaluation (CCE) and Transmit procedure are defined in clauses 6.2.3.8 and 6.2.3.12. 

6.2.3.3 Leader unknown SDL 
Figure 6.4 illustrates MS actions from the Leader_and_Timing_Known state when the NoLeaderTimer expires or the MS is requested to transmit voice, data or CSBKs other than a CT_CSBK. The SDL in figure 6.4 defines the following requirements: 
 After NoLeaderTimer expiration and the MS is waiting to transmit a CT_CSBK_Req, if the MS receives a CT_CSBK then: 
-If received CT_CSBK contains a leader with a lower DI than the receiver's MS_DI, then the receiving MS shall accept the channel slot timing and continue to attempt to send the CT_CSBK_Req. 
-If received CT_CSBK does not contain a leader or contains a leader with a greater than or equal to DI then the receiver's MS_DI, then the receiving MS shall cancel the request to TX and evaluate the received CT_CSBK. 
 When CT_RHOT expires and the channel is busy, the MS shall continue to attempt to send the CT_CSBK_Req: 
-The MS may attempt to send for up to 2 minutes (not shown in SDL) before cancelling. NOTE: CT_CSBK Evaluation (CCE) and Transmit procedure are defined in clauses 6.2.3.8 and 6.2.3.12. 
process TDMA_Direct_Mode_Leader_Unknown 1(1) 

 Leader_Unknown 



-


SDI:=MS_DI 

TX_CT_CSBK 



else 
yes 

no 
=0 
<MS_DI else 





Leader_Unknown 
CT_CSBK_Req 
-
-SA = 0 LWATID = 0 SDI= MS_DI SID= MS_ID NL = 0 CTO = 00 Gen = 0 
Figure 6.4: Leader unknown SDL 
6.2.3.4 Leader and timing known SDL 
Figure 6.5 illustrates MS actions from the Leader_and_Timing_Known state when either the SyncAge or SyncAgeWarning timers expire or the MS is requested to transmit voice, data or CSBKs other than a CT_CSBK. The SDL in figure 6.5 defines the following requirements: 
 After SyncAgeWarning expiration and MS is waiting to transmit a CT_CSBK_Req, if the MS receives a CT_CSBK then: 
-If the CTO is 00 or 01, the received leader has a lower LWATID than the receiver's leader MS_WATID, or the received leader is equal to the MS_LWATID of the receiver and the SA is higher, then the MS shall continue to attempt to send the CT_CSBK_Req. 
-Otherwise the attempt to send the CT_CSBK_Req is cancelled. 
 
When CT_RHOT expires and the channel is busy, the MS shall continue to attempt to send the CT_CSBK_Req: 

-The MS may attempt to send for up to 2 minutes (not shown in SDL) before cancelling. 

 
When the SyncAge Timer expires, the MS shall re-initialize timing parameters and start the NoLeaderTimer. NOTE: CT_CSBK Evaluation (CCE) and Transmit procedure are defined in clauses 6.2.3.8 and 6.2.3.12. 


process TDMA_Direct_Mode_Leader_and_Timing_Known 1(1) 



6.2.3.5 Leader SDL 
Figure 6.6 illustrates MS actions when the MS is the Leader and the BeaconInterval timer expires or it receives a CT_CSBK. The SDL in figure 6.6 defines the following requirements: 
 
The MS shall attempt to send a CT_CSBK_Beacon when the BeaconInterval timer expires or it receives a message to TX a beacon when it was appointed the leader. 

 
When CT_RHOT expires and the channel is busy, the MS shall continue to attempt to send the CT_CSBK_Beacon: 

-The MS may attempt to send for up to 2 minutes (not shown in SDL) before cancelling. 

 
The MS shall attempt to Send a Correction (SC) when a received CT_CSBK: -Identifies a leader with a lower LWATID than the receiver's MS_LWATID. -Does not identify a leader and the received SDI is less than or equal to the receiver's MS_LDI. 

 
The MS shall attempt to Appoint a New Leader (ANL) when a received CT_CSBK: 


-Identifies a leader with a larger LWATID than the receiver's MS_LWATID and the received SDI is greater than the received LDI in the CT_CSBK. 
-Does not identify a leader and the received SDI is greater than the receiver's MS_LDI. 
 
The MS shall attempt to resolve a leader identifier conflict (ID) when a received CT_CSBK: 

-Identifies a leader with the same LWATID than the receiver's MS_LWATID and the received SA is not equal to the MS_SA. 

 
The MS shall attempt to accept a leader when a received CT_CSBK: 


-Identifies a leader with a greater LWATID than the receiver's LWATID and the received SDI is less than or equal to the receiver's LDI. 
NOTE: Identifier Conflict (ID) is described in clause 6.2.3.6, Send Correction (SC) is described in clause 6.2.3.8, Accept Leader (AL) is described in clause 6.2.3.9, and Appoint New Leader (ANL) is described in clause 6.2.3.10. 
process TDMA_Direct_Mode_Leader 1(1) 

Leader 







->MS_WATID =MS_WATID 

TX_CT_CSBK 
else 
else >MS_DI 


yes 
=MS_SA 
else 

no 
Leader 
-

Figure 6.6: Leader SDL 
6.2.3.6 Leader identifier conflict SDL 
Figure 6.7 illustrates MS actions while it is the leader and has received a CT_CSBK with the same leader Dynamic Identifier (DI) and leader Identifier (ID) as its MS DI and MS ID. The SDL in figure 6.7 defines the following requirements: 
 
If the received SyncAge (SA) is within ±10 SAIncr of the MS unit's SyncAge (MS_SA), the leader shall assume it is still the leader. 

 
If the received SyncAge (SA) is a multiple of the MS unit's SyncAge (MS_SA) to within ±10 SAIncr, the leader shall assume it is still the leader and proceeds to send out a channel timing correction (SC). 

 
If the received SyncAge is different than either of the two previous conditions, then the MS assumes there is another leader in the system using the same LWATID and this conflict needs to be resolved: 


-The MS selects a new MS ID and if the new MS ID is greater than the received LID, the MS shall stay as the leader. 
-The MS selects a new MS ID and if the new MS ID is less than the received LID, the MS shall accept the other MS as the leader (AL). 
NOTE: Send Correction (SC) is described in clause 6.2.3.8 and Accept Leader (AL) is described in clause 6.2.3.9. 

6.2.3.7 CT_CSBK evaluation SDL 
Figure 6.8 illustrates MS actions while a non-leader MS evaluates a received CT_CSBK. The SDL in figure 6.8 defines the following requirements: 
 
If the MS receives a CT_CSBK appointing it as the leader (LWATID = MS_WATID and NL = 1) the MS sets its Generation to 0, assumes the SyncAge in the CT_CSBK, sets the BeaconInterval timer and transitions to the Leader state to immediately transmit a beacon. 

 
If the received LWATID equals the receiver's MS_WATID and it is not appointed leader (NL=0) or the received SID in the CT_CSBK matches the receiver's MS ID, then the MS generates a new MS ID. 

 
If the receiving MS does not have a leader it shall accept the channel slot timing and: -If received LWATID = 0 and received SDI > MS_SDI then MS shall attempt to Appoint New Leader 

(ANL). -If received LWATID = 0 and received SDI = MS_DI then MS shall attempt to send a CT_CSBK_Req. -If received LWATID . 0 then MS shall attempt to Accept Leader (AL). 

 
If the receiving MS has a leader and an unaligned terminator is received (CTO=01), the MS shall not accept the timing or update the leader information: 

-If the received LWATID is less than the receiver' MS_LWATID, the MS shall attempt to Send a Correction (SC). 

 
If the received LWATID is less than the receiver's MS_LWATID or they are equal and the received SA is greater than the receiver's MS_SA then the MS shall: 


-attempt to send a timing correction (SC) when the received SDI = MS_LDI; 
-attempt to appoint new leader when received SDI > MS_LDI. 
 
If the received LWATID is greater than the receiver's MS_LWATID and the received CTO = 11 then the MS shall accept the channel slot timing and attempt to send a Timing Push (TP). 

 
If the received LWATID is greater than the receiver's MS_LWATID and the received CTO = 01 then the MS shall accept the channel slot timing and Accept the Leader (AL). 

 
If the received LWATID equals the receiver's MS_LWATID, the received SA equals the receiver's MS_SA and the received Gen is < the receiver's MS_Gen and CTO is not equal to 1, then the MS shall accept the channel slot timing and set MS_Gen to one more than the received Gen. 

 
If the received LWATID equals the receiver's MS_LWATID, the received SA equals the receiver's MS_SA, the received Gen is < the receiver's MS_Gen and the CTO is equal to 11 (beacon or timing push), then the MS shall accept the channel timing, set the MS_Gen to one more than the received Gen and send a Timing Push (TP). 


NOTE: Send Correction (SC) is described in clause 6.2.3.8, Accept Leader (AL) is described in clause 6.2.3.9, Appoint New Leader (ANL) is described in clause 6.2.3.10 and Timing Push (TP) is described in clause 6.2.3.11. 

6.2.3.8 Send correction SDL 
Figure 6.9 illustrates MS actions for sending a channel timing correction. The SDL in figure 6.9 defines the following requirements: 
 
The MS shall attempt to send a CT_CSBK when CT_RHOT expires. 

 
When CT_RHOT expires and the channel is busy, the MS shall continue to attempt to send the CT_CSBK: -The MS may attempt to send for up to 2 minutes (not shown in SDL) before cancelling. 

 
When attempting to transmit a CT_CSBK and the MS receives a CT_CSBK with CTO of 00 or 01 or the LWATID is less than the receiver's MS_LWATID then the MS shall continue to send the CT_CSBK. 


NOTE: CT_CSBK Evaluation (CCE) is described in clause 6.2.3.7, and LDR is the Leader CT_CSBK evaluation portion in clause 6.2.3.5. 

6.2.3.9 Accept leader SDL 
Figure 6.10 illustrates MS actions when accepting a new leader. The SDL in figure 6.10 defines the following requirements: 
 
If the CTO is 00 or 01 the receiving MS does not accept the leader. 

 
If the CTO is 10 or 11 the receiving MS accepts the channel slot timing and the channel timing parameters, sets both SyncAgeWarning and SyncAge timers initialized with the received SA value. 


NOTE: CT_CSBK Evaluation (CCE) is described in clause 6.2.3.7. 

6.2.3.10 Appoint new leader SDL 
Figure 6.11 illustrates MS actions when appointing a new leader. The SDL in figure 6.11 defines the following requirements: 
 
The MS shall attempt to send a CT_CSBK when CT_RHOT expires. 

 
When CT_RHOT expires and the channel is busy, the MS shall continue to attempt to send the CT_CSBK: -The MS may attempt to send for up to 2 minutes (not shown in SDL) before cancelling. 

 
While attempting to send the CT_CSBK and the MS receives a CT_CSBK: -The MS shall cancel sending the CT_CSBK if the received CT_CSBK has a LWATID greater than the 


receiver's MS_LWATID or the received SWATID is greater than the receiver's MS_LWATID. NOTE: CT_CSBK Evaluation (CCE) is described in clause 6.2.3.7. 

6.2.3.11 Timing push SDL 
Figure 6.12 illustrates MS actions when pushing out the channel timing information. Important points are: 
 
The MS accepts the timing parameters in the received CT_CSBK. 

 
The MS shall attempt to send a CT_CSBK when CT_RHOT expires. 

 
When CT_RHOT expires and the channel is busy, the MS shall continue to attempt to send the CT_CSBK: -The MS may attempt to send for up to 2 minutes (not shown in SDL) before cancelling. 

 
While attempting to send the CT_CSBK and the MS receives a CT_CSBK: 


-The MS shall cancel sending the CT_CSBK if the received CT_CSBK has a LWATID greater than the receiver's MS_WATID or the SWATID is greater than the receiver's MS_WATID. 
-The MS shall cancel sending the CT_CSBK if the received CT_CSBK has a LWATID equal to the receiver's MS_WATID, the CTO is 11 and the received SA is equal to the MS_SA. 
NOTE: CT_CSBK Evaluation (CCE) is described in clause 6.2.3.6. 

6.2.3.12 Transmit procedure SDL 
Figure 6.13 illustrates how the MS sets the CTO information element in the CT_CSBK_Term at the end of a transmission. The SDL in figure 6.13 defines the following requirements: 
 
If the MS does not have a leader it shall use CTO = 00 in the CT_CSBK_Term. 

 
If the MS has a leader and there is no DMR TDMA direct mode activity on the frequency the MS shall use CTO = 10 in the CT_CSBK_Term. 

 
If the MS has a leader and there is DMR TDMA direct mode activity on the channel the MS shall use CTO = 01 in the CT_CSBK_Term. 



6.3 Reverse Channel Transmitter Interrupt 
6.3.0 Facility description - Introduction 
The Reverse Channel signalling mechanism as defined in ETSI TS 102 361-1 [1] is combined with the appropriate Tier 2 Reverse Channel (RC) Command Information Elements in clause 7.2.20 to stop (interrupt) a voice transmission in order to initiate a new voice transmission. Transmitter Interrupt is supported in Repeater Mode as well as Direct Mode. 
6.3.1 Repeater Mode 
In repeater mode the reverse channel inbound message directed to a MS transmitting on slot 1 is sent on slot 2. If another MS is transmitting on slot 2 then there is no guarantee that the message is repeated. This type of indeterminate operation can lead to poor operation in the field. It is suggested that for use cases that require the reverse channel message to always get through that the first slot is utilized for voice and data and the second slot is utilized for reverse channel only. In other words in this scenario no MS Units are configured to use slot 2 for voice and data. This uses the Dedicated outbound Reverse Channel as defined in ETSI TS 102 361-1 [1], clause 5.1.5.2. 
However the Embedded outbound Reverse Channel as defined in ETSI TS 102 361-1 [1], clause 5.1.5.3 may alternatively be used. In this scenario the MS may impolitely transmit the reverse channel inbound message. 
6.3.2 Direct Mode 
ETSI DMR supports 2 types of direct mode. The first only utilizes 1 slot on the frequency and is called direct mode. The second can support both slots (2 independent transmissions) and is called TDMA direct mode. In TDMA direct mode the repeater indeterminate issue discussed in clause 6.3.1 is also applicable in a similar way. Therefore if the reverse channel messages shall always get through then it is proposed that direct mode be used. In other words for this scenario TDMA direct mode is not used. 
6.3.3 Voice Interrupt 
In Voice Interrupt the requesting MS is part of the ongoing call. The MS makes a request to halt the transmitting radio so it can start a new transmission for the same call. It is understood that not every MS would necessarily want to be interruptible. For example a supervisor's MS may not want to be interrupted by a subordinate. In this case the Cease Transmission Request from table 7.27 is sent. If the transmitting MS is configured to be interruptible, then it stops transmitting. However if the transmitting MS is configured to not be interruptible then it continues to transmit. 
6.3.4 Emergency Interrupt 
In Emergency Interrupt the requesting MS is not part of the ongoing call. It makes a request to halt the transmitting MS so it can start a new call, which happens to be an emergency call. In this case it is desirable for any MS to stop transmitting so the emergency call can start. Therefore the Cease Transmission Command from table 7.27 is sent and shall be obeyed by the transmitting MS regardless of configuration. 
6.3.5 Sending Interrupt Request and Retry Mechanism 
The MS wishing to interrupt a voice call shall transmit a Standalone RC burst as defined in ETSI TS 102 361-1 [1] at least one time in both repeater mode and direct mode and then transitions to receive. While in receive mode after sending the interrupt request, the MS sets T_RCtimer. If the MS receives a Voice Terminator with LC before the timer expires, the interrupt request was successful and the interrupting MS starts its transmission. If the timer expires and before receiving a Voice Terminator with LC then the interrupt request has failed and a retry may be sent. Retries are sent in the same manner as the original request. 
7 PDU description 
7.0 PDU description - Introduction 
This clause describes the PDUs which apply to the DMR layer 3, the voice and generic services and facilities protocol. 
The following clauses contain descriptions of the PDUs and the information elements contained within them. The structure of the PDU definition represented by the tables is as follows: 
 
the information element column gives the name of the contained element(s); 

 
the element length column defines the length of the element in bits; 


 the remarks column contains other information on the information element. The elements shall be transmitted in the order specified by ETSI TS 102 361-1 [1]. 
7.1 Layer 3 PDUs 
7.1.0 Layer 3 PDUs -Introduction 
Due to the nature of DMR, with close interaction between layers 2 and 3, and with a high degree of information about the state of the channel being needed, the layer 3 PDUs detailed in the following clauses may include two element types: 
 Message dependent elements: 
-These elements are visible to layer 2 and may be used by any MS (that is able to decode them), irrespective of addressing. These elements depend on the message type element. Some are generated by layer 2 when it constructs the complete message whereas others are generated by layer 3. 
 Feature elements: 
-These are "true" layer 3 elements. They are only processed by the MSs to which they are addressed. 
Where both types exist in the PDU they are shown separately. 
7.1.1 Full Link Control PDUs 
7.1.1.1 Group Voice Channel User LC PDU 
Octet 0 and 1 of the Group Voice Channel User (Grp_V_Ch_Usr) LC PDU conform to the LC format structure as defined in figure 7.1 of ETSI TS 102 361-1 [1]. Octets 2 to 8 contain the Group Voice Channel User specific information. 
The Grp_V_Ch_Usr PDU is shown in table 7.1. 
Table 7.1: Grp_V_Ch_Usr PDU content 

Information element  Length  Remark  
Message dependent elements  
Protect Flag (PF)  1  
Reserved  1  This bit shall be set to 02  
Feature elements  
Full Link Control Opcode (FLCO)  6  Shall be set to 0000002  
Feature set ID (FID)  8  Shall be set to 000000002  
Service Options  8  
Group address  24  
Source address  24  

7.1.1.2 Unit to Unit Voice Channel User LC PDU 
Octet 0 and 1 of the Unit to Unit Voice Channel User (UU_V_Ch_Usr) LC PDU conform to the LC format structure as defined in figure 7.1 of ETSI TS 102 361-1 [1]. Octets 2 to 8 contain the Unit to Unit Voice Channel User specific information. The UU_V_Ch_Usr PDU is shown in table 7.2. 
Table 7.2: UU_V_Ch_Usr PDU content 

Information element  Length  Remark  
Message dependent elements  
Protect Flag (PF)  1  
Reserved  1  This bit shall be set to 02  
Feature elements  
Full Link Control Opcode (FLCO)  6  Shall be set to 0000112  
Feature set ID (FID)  8  Shall be set to 000000002  
Service Options  8  
Target address  24  
Source address  24  

7.1.1.3 GPS Info LC PDU 
Octet 0 and 1 of the GPS Info LC PDU conform to the LC format structure as defined in figure 7.1 of ETSI TS 102 361-1 [1]. Octets 2 to 8 contain the GPS Info specific information. The GPS Info PDU is shown in table 7.3. 
Table 7.3: GPS Info PDU content 

Information element  Length  Value  Remark  
Message dependent elements  
Protect Flag (PF)  1  
Reserved  1  02  
Feature elements  
Full Link Control Opcode (FLCO)  6  0010002  GPS Info value  
Feature set ID (FID)  8  000000002  
Reserved  4  00002  
Position Error  3  
Longitude  25  
Latitude  24  

7.1.1.4 Talker Alias header LC PDU 
Octet 0 and 1 of the Talker Alias header LC PDU conform to the LC format structure as defined in figure 7.1 of ETSI TS 102 361-1 [1]. Octets 2 to 8 contain the Talker Alias header specific information. The Talker Alias header info PDU is shown in table 7.4. 
Table 7.4: Talker Alias header Info PDU content 

Information element  Length  Value  Remark  
Message dependent elements  
Protect Flag (PF)  1  
Reserved  1  02  
Feature elements  
Full Link Control Opcode (FLCO)  6  0001002  Call Alias header value  
Feature set ID (FID)  8  000000002  SFID  
Talker Alias data format  2  
Talker Alias data length  5  
Talker Alias data  49  See note  
NOTE: The most significant bit of 49 bits Talker Aliasdata information element is Reserved for 8-bit and 16-bit coded formats. For these formats the first valid character starts from Octet 3. All 49 bits Talker Alias data information element are valid for 7-bit coded format.  

7.1.1.5 Talker Alias block LC PDU 
Octet 0 and 1 of the Talker Alias block LC PDU conform to the LC format structure as defined in figure 7.1 of ETSI TS 102 361-1 [1]. Octets 2 to 8 contain the Talker Alias block Info specific information. The Talker Alias block Info PDU is shown in table 7.5. 
Table 7.5: Talker Alias block Info PDU content 

Information element  Length  Value  Remark  
Message dependent elements  
Protect Flag (PF)  1  
Reserved  1  02  
Feature elements  
Full Link Control Opcode (FLCO)  6  0001012  Talker Alias Block1 value  
0001102  Talker Alias Block2 value  
0001112  Talker Alias Block3 value  
Feature set ID (FID)  8  000000002  SFID  
Talker Alias data  56  

7.1.2 Control Signalling BlocK (CSBK) PDUs 
7.1.2.1 BS Outbound Activation CSBK PDU 
Octet 0 and 1 of the BS Outbound Activation (BS_Dwn_Act) CSBK PDU conform to the CSBK format structure as defined in figure 7.8 of ETSI TS 102 361-1 [1]. Octets 2 to 9 contain the BS Outbound Activation specific information. The BS_Dwn_Act PDU is shown in table 7.5a. 
Table 7.5a: BS_Dwn_Act PDU content 
Information element  Length  Remark  
Message dependent elements  
Last block (LB)  1   This bit shall be set to 12  
Protect Flag (PF)  1  
Feature elements  
CSBK Opcode (CSBKO)  6  Shall be set to 1110002  
Feature set ID (FID)  8  Shall be set to 000000002  
Reserved  16  All bits shall be set to 02  
BS address  24  
Source address  24  

7.1.2.2 Unit to Unit Voice Service Request CSBK PDU 
Octet 0 and 1 of the Unit to Unit Voice Service Request (UU_V_Req) CSBK PDU conform to the CSBK format structure as defined in figure 7.8 of ETSI TS 102 361-1 [1]. Octets 2 to 9 contain the Unit to Unit Voice Service Request specific information. The UU_V_Req PDU is shown in table 7.5b. 
Table 7.5b: UU_V_Req PDU content 
Information element  Length  Remark  
Message dependent elements  
Last Block (LB)  1  This bit shall be set to 12  
Protect Flag (PF)  1  
Feature elements  
CSBK Opcode (CSBKO)  6  Shall be set to 0001002  
Feature set ID (FID)  8  Shall be set to 000000002  
Service Options  8  
Reserved  8  All bits shall be set to 02  
Target address  24  
Source address  24  

7.1.2.3 Unit to Unit Voice Service Answer Response CSBK PDU 
Octet 0 and 1 of the Unit to Unit Voice Service Answer Response (UU_Ans_Rsp) CSBK PDU conform to the CSBK format structure as defined in figure 7.8 of ETSI TS 102 361-1 [1]. Octets 2 to 9 contain the Unit to Unit Voice Service Answer Response specific information. The UU_Ans_Rsp PDU is shown in table 7.5c. 
Table 7.5c: UU_Ans_Rsp PDU content 
Information element  Length  Remark  
Message dependent elements  
Last Block (LB)  1  This bit shall be set to 12  
Protect Flag (PF)  1  
Feature elements  
CSBK Opcode (CSBKO)  6  Shall be set to 0001012  
Feature set ID (FID)  8  Shall be set to 000000002  
Service Options  8  
Answer Response  8  
Target address  24  
Source address  24  

7.1.2.4 Negative Acknowledge Response CSBK PDU 
Octet 0 and 1 of the Negative Acknowledge Response (NACK_Rsp) CSBK PDU conform to the CSBK format structure as defined in figure 7.8 of ETSI TS 102 361-1 [1]. Octets 2 to 9 contain the Negative Acknowledge Response specific information. The NACK_Rsp PDU is shown in table 7.6. 
Table 7.6: NACK_Rsp PDU content 

Information element  Length  Remark  
Message dependent elements  
Last block (LB)  1  This bit shall be set to 12  
Protect Flag (PF)  1  
Feature elements  
CSBK Opcode (CSBKO)  6  Shall be set to 1001102  
Feature set ID (FID)  8  Shall be set to 000000002  
Additional Information Field  1  This bit shall be set to 12  
Source Type  1  
Service Type  6  
Reason Code  8  
Source address  24  Source Address is the Additional Information Field  
Target address  24  

7.1.2.5 Preamble CSBK PDU 
Octet 0 and 1 of the Preamble CSBK (Pre_CSBK) PDU conform to the CSBK format structure as defined in figure 7.8 of ETSI TS 102 361-1 [1]. Octets 2 to 9 contain the Preamble CSBK specific information. The Pre_CSBK PDU is shown in table 7.7. This PDU may be used to increase robustness of non-voice (data, CSBK, etc.) delivery for scanning radios. 
NOTE: The CSBK preamble may be used to improve successful delivery of DMR services to MSs that are scanning or improving battery life by implementing a sleep mode. 
Table 7.7: Pre_CSBK PDU content 

Information element  Length  Value  Remark  
Message dependent elements  
Last Block (LB)  1  12  
Protect Flag (PF)  1  
Feature elements  
CSBK Opcode (CSBKO)  6  1111012  
Manufacturers Feature ID  8  000000002  
Data/CSBK  1  02  CSBK content follows preambles  
12  Data content follows preambles  
Group/Individual  1  02  Target address is an individual  
12  Target address is a group  
Reserved  6  0000002  
CSBK Blocks to Follow (CBF)  8  
Target address  24  
Source address  24  

7.1.2.6 Channel Timing CSBK PDU 
Octet 0 and 1 of the Channel Timing CSBK (CT_CSBK) PDU conform to the CSBK format structure as defined in figure 7.8 of ETSI TS 102 361-1 [1]. Octets 2 to 9 contain the Channel Timing CSBK specific information. The CT_CSBK PDU is shown in table 7.8 and figure 7.1. This PDU is used to propagate slot timing information to all TDMA direct mode MS units in a wide area system. 
Table 7.8: CT_CSBK PDU content 

Information element  Length  Value  Remark  
Message dependent elements  
Last Block (LB)  1  12  
Protect Flag (PF)  1  
Feature elements  
CSBK Opcode (CSBKO)  6  0001112  
Manufacturers Feature ID  8  000000002  
Sync Age  11  
Generation  5  
Leader Identifier  20  
New Leader  1  
Leader Dynamic Identifier  2  
Channel Timing Op1  1  Channel Timing Opcode MSB  
Source Identifier  20  
Reserved  1  Shall be set to 02  
Source Dynamic Identifier  2  
Channel Timing Op0  1  Channel Timing Opcode LSB  


The Leader Identifier MSB is located in octet 4 bit 7 and the LSB is located in octet 6 bit 3. The Source Identifier MSB is located in octet 7 bit 7 and the LSB is located in octet 9 bit 3. 
7.1.3 Short Link Control PDUs 
7.1.3.1 Null Message 
Bits 0 to 3 of Octet 0 of the Null Message (Nul_Msg) Short LC PDU conform to the Short LC format structure as defined in figure 7.2 of ETSI TS 102 361-1 [1]. Octets 1 to 3 contain the Null Message specific information. The Nul_Msg PDU is shown in table 7.9. This PDU is available for use in the CACH when there is no other PDU to be sent. 
Table 7.9: Nul_Msg PDU content 

Information element  Length  Remark  
Feature elements  
Short LC Opcode (SLCO)  4  Shall be set to 00002  
Reserved  24  All bits shall be set to 02  

7.1.3.2 Activity Update 
Bits 0 to 3 of Octet 0 of the Activity Update (Act_Updt) Short LC PDU conform to the Short LC format structure as defined in figure 7.2 of ETSI TS 102 361-1 [1]. Octets 1 to 3 contain the Activity Update specific information. The Act_Updt PDU is shown in table 7.10. 
Table 7.10: Act_Updt PDU content 

Information element  Length  Value  Remark  
Feature Elements  
Short LC Opcode (SLCO)  4  00012  
Time Slot 1 Activity ID  4  00002  No activity on BS time slot 1  
00012  Reserved  
00102  Group CSBK activity on BS time slot 1  
00112  Individual CSBK activity on BS time slot 1  
01002  Reserved  
01012  Reserved  
01102  Reserved  
01112  Reserved  
10002  Group voice activity on BS time slot 1  
10012  Individual voice activity on BS time slot 1  
10102  Individual data activity on BS time slot 1  
10112  Group data activity on BS time slot 1  
11002  Emergency group voice activity on BS time slot 1  
11012  Emergency individual voice activity on BS time slot 1  
11102  Reserved  
11112  Reserved  
Time Slot 2 Activity ID  4  00002  No activity on BS time slot 2  
00012  Reserved  
00102  Group CSBK activity on BS time slot 2  
00112  Individual CSBK activity on BS time slot 2  
01002  Reserved  
01012  Reserved  
01102  Reserved  
01112  Reserved  
10002  Group voice activity on BS time slot 2  
10012  Individual voice activity on BS time slot 2  
10102  Individual data activity on BS time slot 2  
10112  Group data activity on BS time slot 2  
11002  Emergency group voice activity on BS time slot 2  
11012  Emergency individual voice activity on BS time slot 2  
11102  Reserved  
11112  Reserved  
Hashed address time slot 1  8  Destination  Compressed time slot 1 destination address (see note 1)  
Hashed address time slot 2  8  Destination  Compressed time slot 2 destination address (see note 1)  
NOTE 1: Hashed algorithm uses the 8-bit CRC calculation algorithm as defined in clause B.3.7 of ETSI TS 102 361-1 [1]. NOTE 2: When BS receives a CSBK preamble, it announces the type of activity that follows the preambles.  

7.2 Layer 3 information element coding 
7.2.0 Layer 3 information element coding - Introduction 
The following clauses contain descriptions of the information elements contained within layer 3 PDUs, and provide a description of what the elements represent in relation to their bit representation. The structure of the tables is as follows: 
 
the information element column gives the name of the element; 

 
the element length column defines the length of the element in bits; 

 
the value column denotes fixed values or a range of values; 

 
the remarks column defines the meaning of the information element against each of its bit represented values. 


7.2.1 Service Options 
The Service Options information element has a length of 8 bits and is shown in table 7.11. 
Table 7.11: Service Options 

Information element  Length  Value  Remark  
Emergency  1  02  Non-emergency service  
12  Emergency service  
Privacy  1  02  See note 1  
Reserved  2  002  Reserved for future use  
Broadcast  1  02  Non-broadcast service  
12  Broadcast service (see note 2)  
Open Voice Call Mode (OVCM)  1  02  Non-OVCM call  
12  OVCM call  
Priority level  2  002  No priority  
012  Priority 1 (see note 3)  
102  Priority 2 (see note 3)  
112  Priority 3 (see note 3)  
NOTE 1: Privacy is not defined in the present document. NOTE 2: Broadcast service is only defined for group calls. NOTE 3: Priority 3 is the highest priority.  

7.2.2 Answer Response 
The Answer Response information element has a length of 8 bits and is shown in table 7.12. 
Table 7.12: Answer Response 

Information element  Length  Value  Remark  
Answer Response  8  001000002  Proceed  
001000012  Deny  

7.2.3 Reason Code 
The Reason Code information element has a length of 8 bits and is shown in table 7.13. 
Table 7.13: Reason Code 
Information element  Length  Value  Remark  
Reason Code  8  001000012  MS does not support this service or feature  

7.2.4 Service Type 
The Service Type information element has a length of 6 bits and indicates the service which is being identified. This is set equal to the appropriate CSBK Opcode value for the identified service. 
7.2.5 Source Type 
The Source Type information element has a length of 1 bit and is shown in table 7.14. 
Table 7.14: Source Type 

Information element  Length  Value  Remark  
Source Type  1  02  BS sourced  
12  MS sourced  

7.2.7 CSBK Blocks to Follow (CBF) 
The CSBK Blocks to Follow information element has a length of 8 bits and indicates the number of Preamble CSBK PDUs and either the following CSBK or data message that will be sent. The CBF information element is shown in table 7.16. 
Table 7.16: CSBK Blocks to Follow information element content 
Information element  Length  Value  Remark  
Blocks to Follow  8  any  Number of blocks to follow  
NOTE: CBF does not include the current block (i.e. the CSBK preamble) in the count of the number of blocks being sent.  

7.2.8 Identifier (ID) 
The Identifier information element is part of the TDMA direct mode Wide Area Timing Identifier and has a length of 20 bits. The ID information element is shown in table 7.17. 
Table 7.17: Identifier information element content 

Information element  Length  Value  Remark  
Identifier  20  000000000000000000002  (see note)  
All other values  MS derived ID  
NOTE: If Source Identifier (SID) then initial value at power up and channel change. If Leader Identifier (LID) then leader unknown.  

7.2.6 Additional Information Field 
The Additional Information Field element has a length of 1 bit and is shown in table 7.15. 
Table 7.15: Additional Information Field 

Information element  Length  Value  Remark  
Additional Information Field  1  02  Ignore Additional Information Field  
12  Additional Information Field valid  
NOTE: PDUs without Additional Information Field is not defined in the present document and is for future use.  

7.2.9 Dynamic Identifier (DI) 
The Dynamic Identifier information element is part of the TDMA direct mode Wide Area Timing Identifier, has a length of 2 bits and characterizes a MS units ability and preference to serve as a TDMA direct mode timing leader. The ID information element is shown in table 7.18. 
Table 7.18: Dynamic Identifier information element content 

Information element  Length  Value  Remark  
Dynamic Identifier  2  002  (see note)  
012  Leader Preference: Low  
102  Leader Preference: Medium  
112  Leader Preference: High  
NOTE: If Source Dynamic Identifier (SDI) then initial value at power up and channel change or when the MS is ineligible to be the wide area timing leader. If Leader Dynamic Identifier (LDI) then leader unknown. MS may change DI value (MS_DI) over time to relinquish leader role in order to conserve battery.  

7.2.10 Wide Area Timing IDentifier (WATID) 
The Wide Area Timing Identifier information element has a length of 22 bits. The WATID information element is shown in table 7.19. 
Table 7.19: Wide Area Timing Identifier information element content 

Information element  Length  Value  Remark  
Wide Area Timing Identifier  2  Dynamic Identifier (see note)  
20  Identifier (see note)  
NOTE: If Source WATID, both information elements are for the transmitting MS. If Leader WATID, both information elements are for the timing leader of the transmitting MS.  

7.2.11 Channel Timing Opcode (CTO) 
The Channel Timing Opcode information element has a length of 2 bits and identifies the purpose of a CT_CSBK. The CTO information element is shown in table 7.20. 
Table 7.20: Channel Timing Opcode information element content 

Information element  Length  Value  Remark  
Channel Timing Opcode  2  002  Unaligned request  
012  Unaligned terminator  
102  Aligned channel timing status (see note 1)  
112  Aligned channel timing push (see note 2)  
NOTE 1: Use cases include aligned requests, terminators, responses and corrections without push. NOTE 2: Use cases include leader beacon, beacon propagation and aligned correction with push.  

NOTE 1: When CTO MSB is 1, the CT_CSBK indicates the transmission is following the wide area timing leader and when CTO MSB is 0, the CT_CSBK indicates the transmission is not following the wide area timing leader. 
NOTE 2: Detailed rules reside in clause 6.2.3. 
7.2.12 New Leader (NL) 
The New Leader information element has a length of 1 bit. The NL information element is shown in table 7.21. 
Table 7.21: New Leader information element content 

Information element  Length  Value  Remark  
New Leader  1  02  MS accepts current leader  
12  (see note)  
NOTE: When transmitting, MS appoints a MS as the new wide area timing leader. When receiving, targeted MS is appointed the new wide area timing leader.  

7.2.13 Generation (Gen) 
The Generation information element has a length of 5 bits. The Generation information element is shown in table 7.22. 
Table 7.22: Generation information element content 

Information element  Length  Value  Remark  
Generation  5  000002  (see note)  
All other values  Number of timing hops from leader  
NOTE: MS is the wide area timing leader or wide area timing leader is unknown.  

7.2.14 Sync Age (SA) 
The Sync Age information element has a length of 11 bits. The Sync Age information element is shown in table 7.23. It is used to reject received channel timing when the source MS has not been refreshed directly or indirectly for the wide area channel timing leader within a prescribed amount of time. The SyncAge increment (SAIncr) is 500 ms. 
Table 7.23: Sync Age information element content 

Information element  Length  Value  Remark  
Sync Age  11  000000000002  (see note)  
All other values  Time since last beacon in Sync Age Increments  
NOTE: Value in MS beacon when transmitting MS is the wide area timing leader or when the wide area timing leader is unknown.  

7.2.15 Position Error 
The Position Error information element specifies the accuracy of the GPS data as described in table 7.24. 
Table 7.24: Position Error information element content 

Information Element  Length  Value  Remark  
Position Error  3  0002  less than 2 m  
0012  less than 20 m  
0102  less than 200 m  
0112  less than 2 km  
1002  less than 20 km  
1012  less than or equal to 200 km  
1102  More than 200 km  
1112  Position error not known (see note)  
NOTE: May be used to indicate the MS failed to acquire valid location data.  

7.2.16 Longitude 
Longitude information element shall indicate longitude of the location point in steps of 360/225 degrees in range -180 degrees to +(180 - 360/225) degrees using two's complement presentation. Negative values shall be west of zero meridian and positive values shall be east of zero meridian. 
NOTE: The information element value indicates the centre of resolution range in contrary to GSM presentation where the resolution boundary is indicated. That may introduce a systematic displacement in conversions. 
7.2.17 Latitude 
Latitude information element shall indicate latitude of the location point in units of 180/224 degrees in range -90 degrees to +(90 - 180 / 224) degrees using two's complement presentation. Negative values shall be south of equator and positive values shall be north of equator. 
NOTE:  The information element values indicate the centre of resolution range in contrary to GSM presentation  
where the resolution boundaries are indicated.  
7.2.18  Talker Alias Data Format  

The Talker Alias Data Format information element specifies data format of Talker Alias as described in table 7.25. 
Table 7.25: Talker Alias Data Format information element content 

Information element  Length  Value  Remark  
Talker Alias Data Format  2  002  7 bit ASCII character  
012  ISO 8 bit character [i.2]  
102  Unicode UTF-8  
112  Unicode UTF-16BE  

7.2.19 Talker Alias Data Length 
This Talker Alias Data Length information element is the length in Code Units of the entire Talker Alias as described in table 7.26. 
Table 7.26: Talker Alias Data Length information element content 
Information element  Length  Value  Remark  
Talker Alias Data Length  5  any  Length in Code Units of the entire Talker Alias.  
NOTE: The longest Talker Alias data length is 31 Code Units carried by one header and three blocks.  

7.2.20 Tier 2 Reverse Channel (RC) Command 
The Tier 2 Reverse Chanel Commands information element has a length of 4 bits and is shown in table 7.27. 
Table 7.27: Tier 2 MS Reverse Channel (RC) Command information elements 
RC Command  
Length  Value  Description  
4  00002 -00112  Reserved for future use  
01002  Cease transmission command  
01012  Cease transmission request  
01102 -11112  Reserved for future use  

Annex A (normative): Timers and constants in DMR 
A.0 Timers and constants in DMR - Introduction 
This annex lists the timers and constants in a DMR MS. 
Where indicated, a value should be chosen by the MS and/or BS designer from within the specified range. For other timers and constants, a default value may be specified and the value of these timers and constants shall be configurable within the DMR entity (MS or BS). 
A.1 Layer 3 timers 
T_AckWait ACKWait timer Value chosen by MS designer. Recommended value = 360 ms for UU_Ans_Rsp. 
Recommended minimum value (simulcast systems) = 2,0 seconds 
NOTE 1: T_AckWait is used when an MS transmits a CSBK and is waiting for a response from the target. Upon expiration of this timer, the MS attempts to retransmit the CSBK if the CSBK_Retry_Limit has not been exceeded. 
T_TO Timeout timer Value = 180 s for DMR Tier I. Value chosen by MS designer between 0 (see note) and 180 s for DMR Tier II and Tier III. 
NOTE 2: Timer is disabled if T_TO is 0 s. 
CT_RHOT CT_CSBK transmission Random HoldOff Timer Used to minimize CT_CSBK transmission collisions. 
Leader timing unknown Uniform distribution between 0 and 3,24 seconds with an increment of 60 ms. 
Leader timing known After a CT_CSBK transmission: 2,16 to 3,24 seconds with an increment of 60 ms. Decrement range by 120 ms for each scheduled CT_CSBK that is cancelled. 
NoLeader Upon power up or channel change, the amount of time MS will monitor channel for wide area timing information before transmitting a request. Value = 4,5 minutes. 
SyncAge Amount of time wide area timing sync information is valid before MS requires updated sync information. Value = 10 minutes, increment (SAIncr) = 500 ms. 
NOTE 3: The SyncAge value is linked to the TDMA direct mode time base clock drift error requirements as stated in ETSI TS 102 361-1 [1], clause 10.1.4. 
SyncAgeWarning Amount of time MS will go without updated sync information before requesting updated sync information. Value = 9 minutes (2*BeaconInterval). 
NOTE 4: The SyncAgeWarning value is linked to the TDMA direct mode time base clock drift error requirements as stated in ETSI TS 102 361-1 [1], clause 10.1.4. 
T_MS_ChanAuth Channel Authorization timer Recommended value = 180 ms for single site deployments Recommended value = 360 ms for multi-site deployments 
T_BS_ChanAuthRsp Channel Authorization Response timer Recommended value for single site Voice = 720 ms Recommended value for multi-site Voice = 720 ms Recommended value for single site CSBK or Data = 900 ms Recommended value for multi-site CSBK or Data = 1 140 ms 
T_BS_ChanAuthSel Channel Authorization Selection timer (multi-site deployments only) Recommended value = 240 ms T_RCtimer Amount of time an MS waits for the target MS of a Tier 2 RC Command to end its transmission before attempting to retry the Tier 2 RC Command. Value chosen by MS designer. Recommended value = 600 ms NOTE 5: Simulcast system may require values larger than the recommended value. 
A.2 Layer 3 constants 
N_CSBKRetry CSBK Retry limit Value chosen by MS designer and application specific. Recommended value = 1 for UU_V_Req. 
BeaconDuration Duration of a CT_CSBK_Beacon and CT_CSBK_Prop transmission. Minimum value = 600 ms. 
BeaconInterval Time between start of two consecutive CT_CSBK_Beacon transmissions by the wide area timing leader MS. Value = 4,5 minutes. 
CTDuration Duration of a CT_CSBK_Req and CT_CSBK_Resp transmission. Minimum value = 180 ms. 
Annex B (normative): Opcode Reference Lists 
B.1 Full Link Control Opcode List 
Table B.1: FLCO List 

FLCO  Description  Alias  
0000002  Group Voice Channel User  Grp_V_Ch_Usr  
0000112  Unit to Unit Voice Channel User  UU_V_Ch_Usr  
0001002  Talker Alias header  Talker_Alias_hdr  
0001012  Talker Alias block 1  Talker_Alias_blk1  
0001102  Talker Alias block 2  Talker_Alias_blk2  
0001112  Talker Alias block 3  Talker_Alias_blk3  
0010002  GPS Info  GPS_Info  

B.2 CSBK Opcode List 
Table B.2: CSBKO List 

CSBKO  Description  Alias  
0001002  Unit to Unit Voice Service Request  UU_V_Req  
0001012  Unit to Unit Voice Service Answer Response  UU_Ans_Rsp  
0001112  Channel Timing CSBK  CT_CSBK  
1001102  Negative Acknowledgement Response  NACK_Rsp  
1110002  BS Outbound Activation  BS_Dwn_Act  
1111012  Preamble CSBK  Pre_CSBK  

B.3 Short Link Control Opcode List 
Table B.3: SLCO List 
SLCO  Description  Alias  
00002  Null Message  Nul_Msg  
00012  Activity Update  Act_Updt  

Annex C (informative): Numbering and dialling plan 
C.1 Introduction to the numbering and dialling plan 
It is recognized that manufacturers of MSs will wish to exercise design independence in their products and, accordingly, the requirements of this annex are informative only. 
This annex is intended to: 
 
define the user visible numbering (User Interface domain); and 

 
dialling in a MS for accessing other MS(s) or other entity(ies) over the AI; and 

 
to describe how the visible user numbering and dial strings may be mapped on to the AI. 


The Man Machine Interface (MMI) issues have been addressed in this annex only to the extent of those strictly related to numbering and dialling. 
It should be ensured in the MS implementation, that no non-deterministic user input results in an ambiguous call set-up attempt over the Air Interface. For example, if a user inputs a dialled string of digits that is not assigned to any of the presented dialling algorithms, then the MS should not try to establish the call and appropriate feedback or alert should be given to the user. 
As not to restrict manufacturer's independence, it is envisaged that dialling selection may be initiated in many ways. Some methods are: 
 
direct number entry via a keypad; 

 
mode selection buttons; and 

 
soft key menu selection. 


The dialling method may vary according to the MS terminal type. This annex is applicable to MSs with a basic CCITT number keypad, as shown in figure C.1 and/or with a display capable of displaying the decimal numbers "0" to "9" and the keys "*" and "#". However, manufacturers may employ other keypad layouts. 
1  2  3  
4  5  6  
7  8  9  
*  0  #  
Figure C.1: CCITT keypad layout 


The primary use for the keypad is to enable the user to select the destination address, the type of service, and to initiate calls from the MS. The destination may be other MS(s), to line connected entities via gateways (e.g. a PABX exchange) and to subscribers on the Public Switched Telephone Network (PSTN). Other services may be requested by dialling "call modifier" strings prior to entering the destination address. 
The user input in case of establishing a call is defined for the purposes of this annex as two sequential events: 
a) 
user dials digits, and 

b) 
user initiates call. 


The call initiation is the event, which terminates the user input related to the digits and normally causes a call set-up. The call initiation event itself may be either when the user presses the "#" key or Push-To-Talk (PTT) or other method that may be manufacturer or implementation specific. 
NOTE: This definition of the user input for call establishment is valid only for the cases when a user dials a number using the number keypad or selects a number e.g. from a list of predefined numbers. There may be methods to combine all the three events so that e.g. PTT causes a call establishment using a predefined dialling algorithm to a predefined address requiring no explicit dialling event. 
Manufacturers may implement barring of certain types of call or restrict calls to certain addresses. However, such constraints are outside the scope of this annex. It should be noted that some of the DMR services that may be initiated in this annex are only applicable to MSs that are communicating through a DMR repeater. 
The MS may contain predefined parameters prescribing the minimum and maximum length of the user dial string. By limiting the length of the dialled string the address range the MS is able to dial is restricted. The minimum length parameter may be set according to the user needs, e.g. to disable accidental 1-digit dialling. 
The (User Interface) address that an individual MS is assigned (its own address) may be defined by the dialled digits another MS would dial to reach that MS rather than the Air Interface binary number. If the algorithm specified in this annex were implemented, an MS individual address would be fully specified by seven decimal digits. Similarly, if a MS was personalized with one or more talkgroup addresses, they may be specified at the user interface by seven decimal digits. 
C.2 Subscriber mapping 
C.2.1 User Interface - Air Interface 
C.2.1.0 User Interface - Air Interface -Introduction 
Dialled digits are represented in decimal notation and utilize the numbers "0" to "9" and the keys "*" and "#". For an MS fitted with a keypad, the "#" key may initiate a call (although other initiate methods may be implemented by a manufacturer). Dialled digits that represent a destination address are translated to a form for the Air Interface by one of two algorithms specified in clauses C.2.1.1 and C.2.1.2. This is illustrated in figure C.2. 
Bi-directional User Interface Air Interface (AI) 
Dialled Digits Signalling Bits 
= Variable Length Strings = Fixed Length Strings = Decimal Representation = Binary Representation = CCITT Keypad = CCITT Keypad
 - Digits 0-9 - 24 bits -* and # - call modifier flags 
Figure C.2: Number conversion 

Address fields in the Air-Interface domain structure has a length of 24 bits. The content of a 24-bit AI MS address field may represent: 
 
an MS individual address; 

 
an MS group address; 

 
a gateway address; or 

 
a special identifier. 


The Air Interface provides call services for voice and data. The AI also permits the call services to be modified to (for example) provide priority and emergency calling. The application that converts the User Interface to the Air Interface recognizes the "call modifier" and requests the lower layers to set appropriate bits in the PDUs carried between the entities. At the User Interface, the "call modifier" is indicated by preceding the destination address digits with additional "call modifier" digits. 
C.2.1.1 Mapping for MS individual address space 
C.2.1.1.0 Mapping for MS individual address space - Introduction 
The mapping between the User Interface and individual AI address space for diallable digits is shown in figure C.3. 

Figure C.3 illustrates the individual address space domain mapping. It can be seen that there is un-diallable address space within prefixes 10 to 14. These addresses are not reachable by user dialling and are available for devices with fixed addresses (for example telemetry devices could use these addresses. They would never be addressed by an MS in error because they are not reachable by dialling). 
C.2.1.1.1 Mapping for diallable addresses (prefix 0 to 9) 
A MS individual address is a 7 character numeric string in the range "0000001" to "9999999", these characters are mapped to the Air Interface domain structure bits by the reversible function B1. 
Individual dialled addresses do not contain the symbol "*" which would be interpreted as a call to an MS talk-group. 
Table C.1: 7-number diallable address mapping by B1 
Character  B1  Air Interface ID 
1  2  3  4  5  6  7  
K1  K2  K3  K4  K5  K6  K7  24 bits  

If the dialled string is considered as a string array K1 to K7: 65 43 2
B = 10 × K ,10 × K ,10 × K ,10 × K ,10 × K ,10× K , K
1 1234567
. 
The seven user dialled digits K1 to K7 in the range "0000001" to "9999999" are converted to the 24 bits of the AI ID using true decimal to binary conversion. 
C.2.1.1.2 Mapping for non-diallable individual addresses (prefix 10 to 14) 
Table C.2: Non-diallable address mapping by B3 
Character  B3  Air Interface ID 
1  2  3  4  5  6  7  
K1  K2  K3=0  K4=0  K5  K6  K7  24 bits  

The B3 algorithm provides a numeric User Interface for the non-diallable individual address space. Each prefix has the capacity for 10 000 individual addresses. If the MS individual address is represented by 8 digits K1 to K8 (K3 and K4 are always 0). 54 32
B = 9 900 000,10 × K ,10 × K ,10 × K ,10 × K ,10× K , K
3 125678 The following steps are needed to convert the dialled digits to an ID in the AI domain using the B3 algorithm: 
. 
1)  start with the number 9 900 000;  
2)  take the first digit (0 to 9) and multiply by 100 000;  
3)  take the second digit (0 to 9), multiply by 10 000;  
4)  take the fifth digit (0 to 9), multiply by 1 000;  
5)  take the sixth digit (0 to 9), multiply by 100;  
6)  take the seventh digit (0 to 9), multiply by 10;  
7)  take the eighth digit (0 to 9); and  
8)  add a) to g).  

C.2.1.1.3 Examples of individual address mapping 
Examples of individual MS numbers in the user domain and AI domain are given in table C.3 (B1 algorithm). 
Table C.3: Examples of diallable individual address translation 

User-Interface  Air-Interface (Hex)  Air Interface (Binary)  
1234567  12D68716  0001 0010 1101 0110 1000 01112  
9876543  96B43F16  1001 0110 1011 0100 0011 11112  

For non-diallable address space and prefixes in the range 10 to 14 the address in the user domain may be specified using 8 digits as shown in table C.4 (B3 algorithm). 
Table C.4: Examples of non-diallable individual address translation 

Non dilatable User-Interface  Air-Interface (Hex)  Air Interface (Binary)  
10000000  98968016  1001 1000 1001 0110 1000 00002  
13004567  991D8716  1001 1001 0001 1101 1000 01112  
14009876  99595416  1001 1001 0101 1001 0101 01002  

NOTE: For non-diallable individual addressing, digits K3 and K4 are always zero. 
C.2.1.2 Mapping for MS talkgroup address space 
C.2.1.2.0 Mapping for MS talkgroup address space - Introduction 
A talkgroup call is a separate DMR service to an individual call (see ETSI TS 102 361-1 [1], clause 4.2). The mapping between the User-Interface domain and the Air Interface uses a different algorithm to the MS individual address. 
There is no ambiguity if the initiator wishes to setup a talkgroup call (i.e. the MS should be able to differentiate between an individual call request and a talkgroup call request). There are a number of methods by which a MS may distinguish a talkgroup call described in the following clauses. 
C.2.1.2.1 The concept of the wildcard character 
The MS may discriminate a talkgroup call from an individual call by the use of the "wildcard". 
In the User Interface domain structure, if the dialled string represents an MS address, and contains a "*" in any of the four least significant characters, then that MS address represents a group of MSs. The "*" character is the "wildcard" and represents all numeric values in that digit position, as defined in examples 1 to 3. 
EXAMPLE 1:  The user dials "012345*" means that the MS is addressing 10 separate MSs whose individual addresses are "0123450", "0123451", "0123452", "0123453", "0123454", "0123455", "0123456", "0123457", "0123458" and "0123459".  
EXAMPLE 2:  The user dials "01234*6" means the MS is addressing 10 separate MSs whose individual addresses are "0123406", "0123416", "0123426", "0123436", "0123446", "0123456", "0123466", "0123476", "0123486" and "0123496".  
EXAMPLE 3:  Wildcards may be combined. The user dials "01234**" represents 100 MSs in the range  

"0123400" to "0123499". 
For operators who have no interest in this method of defining talkgroups, the "wildcard" feature may be disabled by MS programming. 
C.2.1.2.2 The concept of stored parameters 
The MS equipment may contain predefined parameters prescribing the MS addresses that will be interpreted as talkgroup addresses. These addresses may be stored as a list programmed during manufacture or before connecting an MS into service. 
C.2.1.2.3 The concept of ad-hoc arrangement 
The MS equipment may simply rely on a range of addresses that all equipment is known to be talkgroup addresses. 
C.2.1.2.4 The rules for the sender 
The following rules may determine if the call is to a talkgroup: IF dialled_string contains a "*" in any of the least significant four characters OR matches a string of numeric digits that are stored in the MS specifically indicating a talkgroup OR can be determined as a talkgroup by any other method chosen by the manufacturer THEN the address represents a talkgroup. Initiate the talkgroup service ELSE the address represents an individual call. Initiate the individual call service ENDIF 
C.2.1.2.5 The rules for the recipient 
These rules determine a call is to a talkgroup and will be accepted by a MS. (All reference to MS in this clause refer to the recipient.) MS receives a DMR service addressed to a talkgroup. MS uses the reverse of the B2 function specified in clause C.2.1.2.6 to translate the AI talkgroup address to the User Interface domain. IF digits (User Interface) contains a "*" in any of the least significant four characters. 
THEN each digit received is compared with each corresponding digit of the MS individual address except where the received digit is a "*". If there is a match on all applicable digits then this MS is party to the talkgroup call. 
ELSE 
(consists of numeric characters only). THEN EITHER 
The string of digits received is compared with each corresponding string of talkgroup digits that the MS has stored (specifically indicating a talkgroup). 
If there is a match then this MS is party to the talkgroup call. OR 
The MS is party to the talkgroup call by any other method chosen by the manufacturer. ENDIF 
C.2.1.2.6 Mapping of dialled strings to the AI talkgroup address space 
C.2.1.2.6.0 Mapping of dialled strings to the AI talkgroup address space -Introduction 
A MS talkgroup address is a 7-character numeric string in the range "0000001" to "999****", these characters are mapped to the Air Interface domain structure bits by the reversible function B2. 
Talkgroup addresses may consist of all numeric characters (but the MS should be able to ascertain the address is a talkgroup address rather than an individual address). Alternatively any of the last four characters may contain one or more "*" characters that explicitly signifies the address is a talkgroup address. 
The algorithm to convert from the user is slightly more complex for talkgroups in order to accommodate the extra "*" character. 
C.2.1.2.6.1 Mapping of numeric dialled strings to the AI talkgroup address space 
Table C.5: Diallable talkgroup address mapping by B2 
Character  B2  Air Interface ID 
1  2  3  4  5  6  7  
K1  K2  K3  K4  K5  K6  K7  24 bits  

K1, K2, K3 represent decimal symbols in the range 0 to 9. K4, K5, K6, K7 represent symbols to base 11 using the digits 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, *. The "*" is a symbol that has the value of 10. 
The six least significant user dialled digits K2 to K7 in the range "000001" to "999999" are converted to the 20 least significant 20 bits of the AI ID using true decimal to binary conversion. The most significant user dialled digit K1 is converted to the most significant 4 bits of the AI ID using a true decimal to binary conversion. 
B = K ×1 464 100, K ×146 410, K ×14 641, K ×1 331, K ×121, K ×11, K
21 2 34567
. 
To following steps are needed to convert the dialled digits to an ID in the AI domain: Examples are shown in table C.6. 
1)  take the first digit (0 to 9) and multiply by 1 464 100;  
2)  take the second digit (0 to 9), multiply by 146 410;  
3)  take the third digit (0 to 9) and multiply by 14 641;  
4)  take the fourth digit (0 to 9) or * (* has a value of 10) and multiply by 1 331;  
5)  take the fifth digit (0 to 9) or * (* has a value of 10) and multiply by 121;  
6)  take the sixth digit (0 to 9) or * (* has a value of 10) and multiply by 11;  
7)  take the seventh digit (0 to 9) or * (* has a value of 10);  
8)  add a) to g); and  
9)  convert the sum to a 24-bit binary number.  


Figure C.4: Domain mapping for calls in the talkgroup addresses space 
Table C.6: Examples of talkgroup address translation 
User-Interface  Air-Interface (Hex)  Air Interface (Binary)  
1234567 (see note)  1B91FD16  0001 1011 1001 0001 1111 11012  
468956*  68BF0816  0110 1000 1011 1111 0000 10002  
012345*  02C00A16  0000 0010 1100 0000 0000 10102  
0123460 (see note)  02C00B16  0000 0010 C000 0000 0000 10112  
999****  DF676716  1101 1111 0110 0111 0110 01112  
NOTE: The MS has already distinguished the dialled string as a talkgroup address using the rules defined in clauses C.2.1.2.1 to C.2.1.2.4.  

C.2.1.2.6.2 Mapping for non-diallable talkgroup addresses (prefix 10 to14) 
Table C.7: Non-diallable talkgroup address mapping by B4 
Character  B4  Air Interface ID 
1  2  3  4  5  6  7  
K1  K2  K3=0  K4=0  K5  K6  K7  24 bits  

The B4 algorithm provides a numeric User Interface for the non-diallable individual address space. Each prefix has the capacity for 10 000 individual addresses. 
If the MS talkgroup address is represented by 8 digits K1 to K8 (K3 and K4 are always 0). 
54 3 2
B = 14 541 000, 10 × K , 10 × K , 10 × K , 10 × K , 10 × K , K
4 125678
. 
The algorithms result in unique unambiguous translation between the User Interface domain and the Air Interface, are reversible and result in no lost codes. 
To following steps are needed to convert the dialled digits to an ID in the AI domain using the B4 algorithm: 
1)  start with the number 14 541 000;  
2)  take the first digit (0 to 9) and multiply by 100 000;  
3)  take the second digit (0 to 9), multiply by 10 000;  
4)  take the fifth digit (0 to 9), multiply by 1 000;  
5)  take the sixth digit (0 to 9), multiply by 100;  
6)  take the seventh digit (0 to 9), multiply by 10;  
7)  take the eighth digit; and  
8)  add a) to g).  

C.2.1.2.6.3 Examples of talkgroup non-diallable address mapping 
Examples of non-diallable talkgroup in the user domain and AI domain are given in table C.8 (B4 algorithm). 
Table C.8: Examples of non-diallable talkgroup address translation 
User-Interface  Air-Interface (Hex)  Air Interface (Binary)  
12005678  $DFCBB6  1101 1111 1100 1011 1011 0110  
13001234  $DFE16A  1101 1111 1110 0001 0110 1010  

NOTE: For non-diallable individual addressing, Digits K3 and K4 are always zero. 
C.2.1.2.7 The concept of the prefix 
A Colour Code (CC) is defined in the AI to provide a simple means of distinguishing overlapping radio sites, in order to detect co-channel interference. 
The Colour Code may be combined with the prefix to separate differing system operators using shared channels. The prefix separates the total address space into non-overlapping bands. This may be specified using the syntax: 
cc.pp, 
where: 
 "cc" is the decimal value of the Colour Code; and 
 "pp" is the decimal value of the prefix. The prefix bands illustrated in figure C.5 show how the total DMR address space is split into bands. 

NOTE: The prefix exists in the User Domain although the effect is to split up the address space in the AI domain. 
In the user domain a full MS address is defined using 7 digits, K1, K2, K3, K4, K5, K6, and K7 for the diallable addresses. 
The non-diallable addresses use a two digit prefix so the full MS address is defined using 8 digits, K1, K2, K3, K4, K5, K6, K7, and K8. 
The prefix is selected by the most significant digit in the full 7 digit string (K1). 
NOTE: Only prefixes 0 to 9 may be dialled by a user. Prefixes 10 to 14 provide a sub-set of the address space just as prefixes 0 to 9, but those addresses are not diallable by users. 
If a system uses the prefix to separate autonomous operators, special arrangements need to be made for certain Air Interface Addresses. These are: 
 
for the MS talkgroup service: -unaddressed talkgroup IDs; -special talkgroups containing all MSs; -gateways to system (e.g. repeater) and system interfaced devices not addressable via the ID (e.g. PABX, 

PSTN, SMS router); 

 
for the MS individual call service: 


-special IDs used to address all MSs. 
The services specified above, each have sixteen addresses. Fifteen of the addresses (n=0-14) are provide a service that is specific to a prefix-n. The address for n=15 is the default if prefixes are not employed, or if a service to "ALL prefixes" if prefixes are employed. An example is given below. For a detailed definition of the addressing scheme, refer to ETSI TS 102 361-1 [1], annex A. 
EXAMPLE: To address all MSs in prefix 5 with an ALLCALL, the sender may set the recipients address as 
"All Talkgroup ID5" (FFFFF516). In this example only the MSs programmed as prefix 5 will take any action. If the sender wished to address all MSs irrespective of their prefix the recipient address may be set to "All Talkgroup ID15" (FFFFFF16). 
The default special Air Interface addresses use the address indexed by n=15 and marked "default" in annex A of ETSI TS 102 361-1 [1]. 
C.2.2 Addresses 
An MS is pre-programmed with at least one individual or one talkgroup identity. 
An MS is permitted to have multiple individual identities and multiple talkgroup identities. 
An MS may contain a list of talkgroup identities, which may be pre-programmed or dynamically updated (manually or over the AI). 
The User Interface domain maps to the AI individual diallable address space by the B1 algorithm. 
The User Interface domain maps to the AI talkgroup diallable address space by the B2 algorithm. 
C.2.3 Conversion rules 
C.2.3.1 MS addresses 
An MS address in the User-Interface structure is defined as 7 characters of which for an individual MS address contain 
the characters "0" to "9". This is converted to the Air-Interface Domain by the B1 function. For a talkgroup address the three most significant contain the characters "0" to "9" and least significant four characters contain the characters "0" to "9" or "*". This is converted to the Air-Interface Domain by the B2 function. 
C.2.3.2 Limiting the length of the destination address 
The MS equipment may contain predefined parameters prescribing the minimum and maximum length of the user dial string. By limiting the length of the dialled string, the address range that the MS is able to dial is restricted. 
C.2.3.3 All talkgroup address 
The All Call dialled string "n******" (All Call within a prefix) is mapped as shown in table C.9. 
Table C.9: Mapping of prefixed All Call to the AI 

User dialled string  Air Interface ID  Remark  
"0******"  FFFFF016  All Talkgroup ID0  
"1******"  FFFFF116  All Talkgroup ID1  
etc.  etc.  etc.  
"9******"  FFFFF916  All Talkgroup ID9  

The All Call dialled string: "******" is mapped to the All Talkgroup ID15 and addresses all MSs irrespective of their prefix. 
Table C.10: Mapping of all prefix call to the AI 
User dialled string  Air Interface ID  Remark  
"*******"  FFFFFF16  All Talkgroup ID15  

C.2.3.4 Gateways 
When calls are made to destinations other than MSs, the calling MS uses appropriate FID/FLCO (see ETSI TS 102 361-1 [1]) signalling to indicate that this is a call to be connected via a gateway (such as a PSTN destination or PABX extension). Extended signalling may be needed to convey the destination digits through the gateway. 
C.3 User dialling plan 
C.3.1 User numbering 
C.3.1.0 User numbering -Introduction 
A unified dialling plan is defined for both peer-to-peer and networked modes. The plan provides up to 9 999 990 diallable individual user addresses and 14 640 990 diallable talkgroups. 
All dialled strings, as defined in clause C.3, are read from left to right and are dialled in the sequence in which they are read. Throughout this clause all representations of dialled strings are underlined. 
MSs may only be required to dial sufficient numbers of characters unambiguously define the destination and service required. 
C.3.1.1 Dialling method 
To maximize channel utilization, the user should enter a string of digits and then press a button to initiate the call. 
The "#" key or a dedicated "send" key is used to initiate the call. The "#" key has an additional purpose of modifying the call type or priority. 
C.3.1.2 Call Type determination 
Underlying signalling and system functionality is hidden from the user. MSs determine the call type and function from the length and content of the dialled string. 
C.3.1.3 Call modifier strings 
Dialled strings that commence with a hash "#" provide secondary uses for the keypad. Secondary dialling functions may be as follows: 
 
Telephone hash modifier format, see clause C.3.4.2.1.2; 

 
PABX hash modifier format, see clause C.3.4.2.2.2; 

 
Call priority setting, see clause C.3.4.3.2; 

 
Call Diversion, see clause C.3.4.3.5; 

 
Broadcast Call, see clause C.3.4.3.1; 

 
Emergency Call, see clause C.3.4.3.3. 


Secondary dialling is achieved by the use of call modifier strings in front of the dialled number. These call modifier sequences utilize the "#" and "*" keys in a similar manner to that used in PABX telephone exchanges. 
C.3.2 Dialled digits to address mapping 
The User-Interface employs 11 symbols "0" to "9" and "*" and "#". 
In the User-Interface domain structure, if the string represents an MS address, and contains a "*" in any of the four least significant characters, then that MS address represents a group of MSs. 
The length of destination MS address dialled digits is in the range from 1 to 7, and is interpreted as the right most digits of the recipient's number. The MSs individual address is used as a base address, and the right-most digits of that number are replaced by the user dialled digits, as shown in examples 1 and 2. The resulting number is then converted to the AI ID using the algorithm presented in annex C. 
EXAMPLE 1: An MS whose individual address is "1234567" (in the user domain), dials "43". 
MS source address  1  2  3  4  5  6  7  
Dialled destination  4  3  
Full destination address, see note  1  2  3  4  5  4  3  
NOTE: Destination address after processing.  

EXAMPLE 2: This example is a call to a talkgroup, described in clause C.2.1.2.1. 
MS source address  1  2  3  4  5  6  *  
Dialled destination  *  
Full destination address, see note  1  2  3  4  5  6  *  
NOTE: Destination address after processing.  

C.3.3 Storage requirements 
C.3.3.1 MS individual address 
An MS is allocated a numeric address in the range in the range "000001" to "9999999", see note. MSs may be programmed with more than one individual address. 
NOTE: The addresses "1000000", "2000000", "3000000", "4000000", "5000000", "6000000", "7000000", "8000000", and "9000000" are not valid. 
C.3.3.2 Talkgroups 
Talkgroups may be both all numeric numbers, or contain a "*" in any of the least significant four digits. 
C.3.3.3 All MSs 
All units respond to All MSs address "*******#". All units with prefix "n" respond to the prefixed All MS address "n******#" with n=0 to 9. See clause C.2.3.3 for the mapping of MS dialled digits "n******#". 
C.3.3.4 Non-diallable numbers 
MS Addresses "0000000", "1000000", "200000", "300000", "4000000", "5000000", "6000000", "7000000", "8000000", and "9000000" are not diallable. If the user inputs a dialled string of digits that is not assigned to any of the dialling algorithms, then the MS should not try to establish the call and appropriate feedback given to the user. 
C.3.3.5 Talkgroup recognition 
C.3.3.5.1 All numeric talkgroups 
Each MS has storage allocated for a minimum of 16 numeric talkgroup addresses. The table is populated during MS personalization by the user, or over the AI. The sender (MS) may use entries in this table to establish that the destination address is a talkgroup rather than an individual address. 
The talkgroup table contains entries consisting of the full talkgroup address consisting of 7 characters as shown in the 
example.  
EXAMPLE:  The sender (MS) whose individual address is "1234561" has the destination "12345567" stored in its talkgroup table. The user enters a single digit "7" as the destination address.  
The full destination address is formed from the dialled digit(s) and the MS own individual address.  

MS source address  1  2  3  4  5  6  1  
Dialled destination  7  
Full (Talkgroup), see note  1  2  3  4  5  6  7  
NOTE: Destination address after processing.  

The talkgroup table is searched for a match. In this example there is a match so the destination address is a talkgroup addresses. 
C.3.3.5.2 Talkgroups defined by wildcards 
The dialled string is examined by the initiating MS. If the destination is identified as a talkgroup because the address contains a "wildcard" character in one of the four least significant digits then call set-up procedure is to a talkgroup as shown in the example. Abbreviated dialling minimizes the number of dialled digits. An advantage of using "wildcard" to define talkgroups is that no pre-arrangement is necessary, i.e. there is no need for a talkgroup table or other MS configuration to recognize an address as a talkgroup. 
EXAMPLE: 
MS source address  1  2  3  4  5  6  1  
Dialled destination  *  
Full destination address, see note  1  2  3  4  5  6  *  
NOTE: Destination address after processing.  

C.3.3.5.3 MS receives a talkgroup call 
The recipient MS applies the reverse B2 to recover the dialled digits K1 to K7. 
 
If the received digits contain a "*" in the digits K4 to K7 then: 

-each digit is compared in turn with the corresponding digit of the MS individual identity looking for a match. If an "*" is encountered then a match for that digit is assumed. 

 
If the received digits are all numeric then: 


-the digits K1 to K7 are compared with each of the entries in the talkgroup table looking for a match (after each entry in the table has been expanded to the full 7 address digits as described in clause C.3.3.5.1). 
A match should exist for the MS to respond to the talkgroup call. 
C.3.4 Dialling procedures 
C.3.4.1 MS calls 
C.3.4.1.1 Seven digit dialling 
The user may enter the whole seven digit address to complete the dialled string prior to transmission. The number of digits within an address may be restricted by MS programming to restrict the number range over which the MS may access. For example the MS may be restricted to six digits to prevent the MS from reaching other MSs outside its own prefix. 
C.3.4.1.2 Abbreviated dialling 
Where abbreviated keypad dialling is used in the MS, the MS should insert the more significant characters from the MS individual address to complete the dialled string prior to transmission. 
If all digits are not dialled the more significant digits from the MS individual address are copied to the dialled string to build a seven digit address so: 
For the MS individual address "2112345": 
 
if the user dials 6#, the destination address should be 2112346; 

 
if the user dials 56#, the destination address should be 2112356; 

 
if the user dials 958#, the destination address should be 2112958; 

 
if the user dials 1385#, the destination address should be 2111385; 


 if the user dials 13*5#, the destination address should be 21113*5 (talkgroup). (The double underlined characters represent those that have been copied from the MS individual address.) At the Air Interface the calling party address is transferred to the called party. The abbreviated dialling may be applied 
to display only an abbreviated calling party address on the display of the called party. Figure C.6 shows abbreviated dialling applied to the calling party and shows how the recipient may display the abbreviated calling party address: 
1) The calling party dials a single digit "2". 
2) The MS inserts the more significant digits from its individual address to complete the dialled string prior to transmission - i.e. the destination address becomes "1234562". 
3) The called and calling party addresses are passed across the Air Interface. 
4) The "B" party decodes the called party address and there is a match and the "B" party receives the call. 
5) The "B" party decodes the calling party address and may display only an abbreviated digit(s). In this case a single digit "1". 

The abbreviated display is sufficient for the "B" party to know who has called because the "B" party could call the "A" party by the same abbreviated dialling. 
By using abbreviated dialling, the DMR dialling plan is appropriate for the smallest and largest fleets. 
C.3.4.1.3 Individual call 
Individual calls can be initiated by another MS user entering the full seven digit number followed by the "#" character to indicate that dialling is complete and that the call is to be initiated. Abbreviated dialling should be allowed. 
EXAMPLE: The dialled digits "2164324#" should initiate an individual call to MS "2164324". 
C.3.4.1.4 Talkgroup Call 
Talkgroup calls can be initiated by another MS user entering the full seven digit number, with any of the only four least significant characters contains a "*", followed by the "#" character to indicate that dialling is complete and that the call is to be initiated. Abbreviated dialling should be allowed. 
C.3.4.1.5 All Call 
All units respond to All MSs address "*******#". All units within a prefix respond to All MSs address "n******#": 
 
in direct mode if permitted during MS personalization; 

 
in a networked system, if permitted by personalization and if permitted by the system. 


C.3.4.2 Gateway calls 
C.3.4.2.1 Telephone call 
C.3.4.2.1.0 Telephone call - introduction 
PSTN telephone numbers may be dialled using two alternative methods. 
C.3.4.2.1.1 Telephone numeric padding format 
PSTN telephone numbers are called by entering the "9" or a "0" followed by a 7 to 20 digit telephone number followed by the "#" character to indicate that dialling is complete and that the call is to be initiated. 
EXAMPLE 1: "91234530#" should initiate a telephone call to the telephone subscriber "1234530". Likewise dialling "001256484530#" should dial telephone subscriber "01256484530". 
Telephone numbers can be of length 7 to 20 digits and can have any digit 0 to 9 in any position in the dialled string. 
Any telephone numbers that are outside this range (e.g. four digit PSTN numbers) should require to be padded with leading digits to a length that can be dialled. This padding may be stripped by the telephone interconnect (at the physical gateway) to ensure correct dialling. 
If the first dialled digit is the "#" key and the key is held for more than DIALn seconds, the international dialling symbol "+" should be inserted into the dialled string, replacing the "*" character. For a MS employing a display, the "+" character should be shown. 
EXAMPLE 2:  "+441253123456#" should initiate a telephone call to the U.K. The number is compiled as follows: "+" international gateway "44" U.K "1253" National Code "123456" Local Number.  
C.3.4.2.1.2  Telephone star modifier format  

PSTN telephone numbers are called by entering "*9" or "*0" followed by a 3 to 20 digit telephone number followed by the "#" character to indicate that dialling is complete and that the call is to be initiated. 
EXAMPLE: "*9845#" should initiate a PSTN telephone call to the telephone subscriber "845". Likewise dialling "*035276#" should dial telephone subscriber "35276". 
Telephone numbers can be of length 3 to 20 digits and can have any digit 0 to 9 in any position in the dialled string. 
C.3.4.2.2 PABX call 
C.3.4.2.2.0 PABX call - Introduction 
PABX telephone numbers may be dialled using two alternative methods. 
C.3.4.2.2.1 PABX numeric padding format 
PABX numbers are called by entering "8" followed by a 7 to 20 digit extension number followed by the "#" character to indicate that dialling is complete and that the call is to be initiated. 
EXAMPLE: "81234530#" should initiate a PABX call to the extension "1234530". Likewise dialling "81256484530#" should dial PABX extension "1256484530". 
Extension numbers can be of length 7 digits to 20 digits and can have any digit 0 to 9 in any position in the dialled string. 
Any extension numbers that are outside this range (e.g. three digit PABX numbers) should require to be padded with leading digits to a length that can be dialled. This Padding should have to be stripped by the PABX interconnect to ensure correct dialling. In addition part of the dialled string may also define a particular PABX. It is the responsibility of the PABX gateway to route the call correctly. 
C.3.4.2.2.2 PABX star modifier format 
PABX numbers are called by entering "*8" followed by a 3 to 20 digit extension number followed by the "#" character to indicate that dialling is complete and that the call is to be initiated. 
EXAMPLE: "*8234#" should initiate a PABX call to the extension "234". Likewise dialling "*81234#" should dial PABX extension "1234". 
Extension numbers can be of length 3 to 20 digits and can have any digit 0 to 9 in any position in the dialled string. 
C.3.4.2.3 IP call 
IP addresses are called by entering "*7" followed by an IPV4 or IPV6 dotted address followed by the "#" character to indicate that dialling is complete and that the call is to be initiated. Since the dot cannot be dialled the "*" key is a substitute for the dots. 
EXAMPLE: "*7213*48*132*2#" should call IP address "213.48.132.2". 
C.3.4.3 Call modifiers 
C.3.4.3.0 Call modifiers - Introduction 
Functions such as the modification of call requests to change to priority or type of service request, and the implementation of other facilities (status, diversion, etc.), are initiated using the syntax in the following clauses. The call modifier is defined by the dialled string by adding extra digits to the dialled destination in the form: # <call modifier code> * destination as defined in clauses C.3.4.3.1 to C.3.4.3.7. 
Table C.11: Summary of call modifiers 

Dialled Digits  Call Modifier  
#1*nn#  Broadcast call, clause C.3.4.3.1  
#8*nn#  Priority call, clause C.3.4.3.2  
#9*nn#  Emergency call, clause C.3.4.3.3  
#0ss*nn#  Status call, clause C.3.4.3.4  
#41*nn#  Divert Own call, clause C.3.4.3.5  
#5*nn#  Open Voice Channel Mode call, clause C.3.4.3.6  
#6*nnn..#  Force talkgroup service, clause C.3.4.3.7  

C.3.4.3.1 Broadcast call 
The MS should set-up a broadcast call to the destination talkgroup nn by dialling "#1*nn#". EXAMPLE 1: "#1*112345*#" should make a broadcast talkgroup call to MS address "112345*". NOTE: The dialled string "#1*nnn". "#" should generate an error if the address is not a talkgroup address. EXAMPLE 2: If the MS calling party address is "1234567". "#1**#" should make a broadcast talkgroup call to 
"123456*" (i.e. to "1234560", "1234561", etc., "1234569"). 
C.3.4.3.2 Priority call 
The MS should set up a high priority call to the destination address nn by dialling "#8*nn#". 
EXAMPLE 1:  To make a high priority call from MS 1122345 to MS 1122346 dial "#8*6#".  
EXAMPLE 2:  To make a high priority talkgroup call from MS 1122345 to MSs fleet 112234* dial "#8**#".  
EXAMPLE 3:  To make a high priority individual call to PABX extension 234 using start modifier format dial  

"#8**8234#". 
C.3.4.3.3 Emergency call 
The MS should set-up an emergency priority call to the destination address nn dialling "#9*nn#". EXAMPLE 1: To make an emergency call from MS 1122345 to talkgroup MSs 11223*6 dial "#9**6#". EXAMPLE 2: To make an emergency call to telephone number 456 (using telephone star modifier format) dial 
"#9**9456#". EXAMPLE 3: To make an emergency call to telephone number 01772123456 (using telephone numeric padding format) dial "#9*901772123456#". 
C.3.4.3.4 Status call 
The string "#0ss*nnn#" causes the MS to set up a status call to the destination address nnn. The status digits "ss" are numeric in the range 0 to 99. 
C.3.4.3.5 Divert own call 
The string "#41*nn#" instructs a repeater BS to offer the number "nn..n" back to any caller who is attempting to make a call to the originating MS as an alternative destination for the call. The number to which calls are to be diverted, and which follows the code, should be any number which the user is able to dial between 0 and 99. 
The MS should instruct the repeater BS to cancel the diverted state dialling "#41#" or "#41*#". 
C.3.4.3.6 Open voice channel mode call 
The string "#5*nnn#" causes the MS to set up a call using OVCM to the destination address nnn. The OVCM allows all MSs to be involved in the voice traffic, even if not explicitly addressed to them. The string "#51#" or "#51*#" instructs the MS to set-up all voice calls using Open Voice Channel Mode working. The MS should cancel the OVCM state dialling "#52#" or "#52*#". 
C.3.4.3.7 Force talkgroup service 
The string "#6*nnn..#" causes the MS to set up a talkgroup call to destination talkgroup nnn. where nnn. is a numeric string of length from 1 to 7 digits. 
EXAMPLE: To make a talkgroup call from MS 1122345 to talkgroup MSs 1122356 dial "#6*1122356#". In this case dialling "#6*56#" would achieve the same result. 
C.3.4.3.8 Multiple call modifiers 
The call modifier strings "1", "5", "6", "8" and "9" may be combined as follows: 
 
"#81*nnn,,,,," should set up a high priority broadcast call; 

 
"#915*nnn." should set up an emergency broadcast call in OVCM mode. NOTE: Call modifiers 8 and 9 are mutually exclusive. 


C.3.4.4 MS behaviour commands 
C.3.4.4.0 MS behaviour commands - Introduction 
Functions such as the changes to the MS configuration or display of MS parameters are instigated using the syntax in the following clauses. 
Table C.12: Summary of MS behaviour commands 

Dialled Digits  MS Behaviour Command  
Edit the talkgroup table, clause C.3.4.4.1  
#42*nnnnnnn#  Add entry  
#43*nnnnnnn#  Delete Entry  
#43*# or #43#  Delete All  
Queue incoming call, clause C.3.4.4.2  
#46*# or #46#  Queue all incoming calls  
#47*# or #47#  Cancel queuing of incoming calls  
#48*# or #48#  Display Own identity, clause C.3.4.4.3  
#49*# or #49#  Display Own talkgroup table, clause C.3.4.4.4  

C.3.4.4.1 Edit the talkgroup table 
The string "#42*nnnnnnn#" causes the MS to add an entry to the talkgroup table. "nnnnnnn" should be the full 7 digit user domain address. If the talkgroup table is full an appropriate error indication is provided to the user. 
The string "#43*nnnnnnn#" causes the MS to delete an entry from the talkgroup table. "nnnnnnn" should be the full 7 digit user domain address. If a match is not found between "nnnnnn" and a talkgroup table entry an appropriate error indication is provided to the user. 
The string "#43*#" or "#43#" causes the MS to delete all entries from the talkgroup table. 
C.3.4.4.2 Queue Incoming call 
The dialled digits "#46*#" or "#46#" causes the MS to respond to an incoming call with a message indicating that the MS does not wish to accept the call at this time. The MS should store the address of the calling party and indicate the event to the user. 
The MS should cancel the Queue Incoming Calls state dialling "#47*#" or "#47#". 
C.3.4.4.3 Display own identity 
For an MS that is fitted with a display, the dialled digits "#48*#" or "#48#" causes the MS to display its own Identity. 
C.3.4.4.4 Display Own talkgroup table 
For an MS that is fitted with a display, the dialled digits "#49*#" or "#49#" causes the MS to display each entry in its talkgroup table. 
C.3.4.5 Call set-up abandon or call complete 
"##" may be dialled after digits and a terminator have been entered on the keyboard. If the radio unit has not transmitted a call request, it should abandon the call and resume an idle state on the control channel. If the radio unit has started to set up a call, it should transmit a call cancel request. If "##" is dialled whilst the unit is in the payload domain, the MS unit terminates the call. 
Annex D (informative): Change requests 
The present document contains change requests as described in table D.1. 
Table D.1: Change requests 

No  Standard Version  Clauses affected or description  Title  
001  1.1.1  7.1.1.1  Grp_V_Ch_Usr PDU does not match Full Link Control  
002  1.2.1  1, 2, 3.1, 3.2, 4, 4.1, 4.2  Clarifications and editorial  
003  1.2.1  5.1.1.1, 5.1.1.1.3, 5.1.1.2, 5.1.1.3, 5.1.2.2, 5.2.1.1, 5.2.1.2.1, 5.2.1.2.2, 5.2.1.3.3.4, 5.2.1.3.3.6 to 5.2.1.3.3.9, 5.2.2.1, 5.2.2.2.1, 5.2.2.2.2, 5.2.2.4.2.2, 5.3.2, 5.3.3, 5.3.4.1  Modifications in clause 5  
004  1.2.1  6.1, 7.1, 7.1.3.2, 7.2.7  Modifications in clauses 6 and 7  
005  1.2.3  7.2.7 and 7.1.2.5  CSBK Blocks to Follow Information Element  
006  1.2.3  7.1.3.2  CACH Activity Update modification  
007  1.2.3  5.2.2.1 and 5.2.2.3.2  Impolite CSBK responses  
008  1.2.3  5.1.1.1  BS Activation clarification  
009  1.2.3  5.2.2.4, 5.2.2.4.1, 5.2.2.4.2.2, 7.2.1.1 -7.2.1.5 and 7.2.2  OACSU Individual Call CSBK responses  
010  1.2.3  7.1.2.1, 7.1.2.5  CSBK PDU  
011  1.2.3  5.2.2.2.2, 5.2.2.4, 5.3.1.1, 5.3.1.2, 5.3.3.2 and 5.3.4  Voice Call References  
012  1.2.3  5.2.1.1, 5.2.2.1 and 5.3.2.3.2  Voice Call End of Transmission clarification  
013  1.2.3  A.1  CSBK Response Wait Timer  
014  1.2.3  5.1.2 and 5.1.2.2  FNS Response  
015  1.2.5  5.2.1.3.3.9  MS MSC Not_My_ID description correction  
017  1.2.5  7.1.2.4, 7.2.6  Negative Acknowledge Response CSBK PDU content  

Annex E (informative): Bibliography 
 
ETSI TR 102 335-1: "Electromagnetic compatibility and Radio spectrum Matters (ERM); System reference document for harmonized use of Digital Mobile Radio (DMR); Part 1: Tier 1 DMR#, expected to be for general authorization with no individual rights operation". 

 
ETSI TR 102 335-2: "Electromagnetic compatibility and Radio spectrum Matters (ERM); System reference document for harmonized use of Digital Mobile Radio (DMR); Part 2: Systems operating under individual licences in the existing land mobile service spectrum bands". 


History 
Document history  
V1.1.1  April 2005  Publication  
V1.2.1  January 2006  Publication  
V1.2.3  September 2006  Publication  
V1.2.6  December 2007  Publication  
V2.1.1  April 2012  Publication  
V2.2.1  July 2013  Publication  
V2.3.1  February 2016  Publication  
V2.4.1  October 2017  Publication  
V2.5.1  May 2023  Publication  









